                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Jul  5 2015) (Mac OS X x86_64)
                              4 ; This file was generated Mon Jul  6 16:34:53 2015
                              5 ;--------------------------------------------------------
                              6 	.module user
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _create_enemy_group
                             13 	.globl _create_enemy
                             14 	.globl _create_shoot
                             15 	.globl _cpct_getScreenPtr
                             16 	.globl _cpct_drawSprite
                             17 	.globl _cpct_isKeyPressed
                             18 	.globl _cpct_scanKeyboard_f
                             19 	.globl _rand
                             20 	.globl _shoot_type
                             21 	.globl _user
                             22 	.globl _init_user
                             23 	.globl _get_user_max_shoots
                             24 	.globl _update_user
                             25 	.globl _draw_user
                             26 ;--------------------------------------------------------
                             27 ; special function registers
                             28 ;--------------------------------------------------------
                             29 ;--------------------------------------------------------
                             30 ; ram data
                             31 ;--------------------------------------------------------
                             32 	.area _DATA
   0000                      33 _user::
   0000                      34 	.ds 18
   0012                      35 _shoot_type::
   0012                      36 	.ds 1
                             37 ;--------------------------------------------------------
                             38 ; ram data
                             39 ;--------------------------------------------------------
                             40 	.area _INITIALIZED
                             41 ;--------------------------------------------------------
                             42 ; absolute external ram data
                             43 ;--------------------------------------------------------
                             44 	.area _DABS (ABS)
                             45 ;--------------------------------------------------------
                             46 ; global & static initialisations
                             47 ;--------------------------------------------------------
                             48 	.area _HOME
                             49 	.area _GSINIT
                             50 	.area _GSFINAL
                             51 	.area _GSINIT
                             52 ;--------------------------------------------------------
                             53 ; Home
                             54 ;--------------------------------------------------------
                             55 	.area _HOME
                             56 	.area _HOME
                             57 ;--------------------------------------------------------
                             58 ; code
                             59 ;--------------------------------------------------------
                             60 	.area _CODE
                             61 ;src/entities/user.c:9: void init_user(){
                             62 ;	---------------------------------
                             63 ; Function init_user
                             64 ; ---------------------------------
   0000                      65 _init_user::
                             66 ;src/entities/user.c:18: user.w = 6;
   0000 21r08r00      [10]   67 	ld	hl,#_user + 8
   0003 36 06         [10]   68 	ld	(hl),#0x06
                             69 ;src/entities/user.c:19: user.h = 16;
   0005 FD 21r09r00   [14]   70 	ld	iy,#_user + 9
   0009 FD 36 00 10   [19]   71 	ld	0 (iy), #0x10
                             72 ;src/entities/user.c:20: user.x = 39-(user.w/2);
   000D 6E            [ 7]   73 	ld	l,(hl)
   000E CB 3D         [ 8]   74 	srl	l
   0010 3E 27         [ 7]   75 	ld	a,#0x27
   0012 95            [ 4]   76 	sub	a, l
   0013 32r06r00      [13]   77 	ld	(#(_user + 0x0006)),a
                             78 ;src/entities/user.c:21: user.y = 199-(user.h);
   0016 FD 66 00      [19]   79 	ld	h, 0 (iy)
   0019 3E C7         [ 7]   80 	ld	a,#0xC7
   001B 94            [ 4]   81 	sub	a, h
   001C 32r07r00      [13]   82 	ld	(#(_user + 0x0007)),a
                             83 ;src/entities/user.c:22: user.sprite = (u8*) ship03;
   001F 21r00r00      [10]   84 	ld	hl,#_ship03
   0022 22r04r00      [16]   85 	ld	((_user + 0x0004)), hl
                             86 ;src/entities/user.c:24: user.vx = 2;
   0025 21r0Er00      [10]   87 	ld	hl,#_user + 14
   0028 36 02         [10]   88 	ld	(hl),#0x02
                             89 ;src/entities/user.c:25: user.vy = 4;
   002A 21r0Fr00      [10]   90 	ld	hl,#_user + 15
   002D 36 04         [10]   91 	ld	(hl),#0x04
                             92 ;src/entities/user.c:26: user.max_shoots = 10;
   002F 21r11r00      [10]   93 	ld	hl,#_user + 17
   0032 36 0A         [10]   94 	ld	(hl),#0x0A
                             95 ;src/entities/user.c:27: shoot_type = 1;
   0034 21r12r00      [10]   96 	ld	hl,#_shoot_type + 0
   0037 36 01         [10]   97 	ld	(hl), #0x01
   0039 C9            [10]   98 	ret
                             99 ;src/entities/user.c:30: u8 get_user_max_shoots(){
                            100 ;	---------------------------------
                            101 ; Function get_user_max_shoots
                            102 ; ---------------------------------
   003A                     103 _get_user_max_shoots::
                            104 ;src/entities/user.c:31: return user.max_shoots;
   003A 21r11r00      [10]  105 	ld	hl,#_user+17
   003D 6E            [ 7]  106 	ld	l,(hl)
   003E C9            [10]  107 	ret
                            108 ;src/entities/user.c:37: void update_user() {
                            109 ;	---------------------------------
                            110 ; Function update_user
                            111 ; ---------------------------------
   003F                     112 _update_user::
   003F DD E5         [15]  113 	push	ix
   0041 DD 21 00 00   [14]  114 	ld	ix,#0
   0045 DD 39         [15]  115 	add	ix,sp
   0047 F5            [11]  116 	push	af
   0048 F5            [11]  117 	push	af
                            118 ;src/entities/user.c:41: cpct_scanKeyboard_f();
   0049 CDr00r00      [17]  119 	call	_cpct_scanKeyboard_f
                            120 ;src/entities/user.c:48: if ((cpct_isKeyPressed(Key_Q))){ 
   004C 21 08 08      [10]  121 	ld	hl,#0x0808
   004F E5            [11]  122 	push	hl
   0050 CDr00r00      [17]  123 	call	_cpct_isKeyPressed
   0053 F1            [10]  124 	pop	af
   0054 7D            [ 4]  125 	ld	a,l
   0055 B7            [ 4]  126 	or	a, a
   0056 28 2D         [12]  127 	jr	Z,00105$
                            128 ;src/entities/user.c:49: if ((user.y-user.vy)>0)
   0058 21r07r00      [10]  129 	ld	hl, #(_user + 0x0007) + 0
   005B 5E            [ 7]  130 	ld	e,(hl)
   005C 4B            [ 4]  131 	ld	c,e
   005D 06 00         [ 7]  132 	ld	b,#0x00
   005F 21r0Fr00      [10]  133 	ld	hl, #_user + 15
   0062 56            [ 7]  134 	ld	d,(hl)
   0063 7A            [ 4]  135 	ld	a,d
   0064 6F            [ 4]  136 	ld	l,a
   0065 17            [ 4]  137 	rla
   0066 9F            [ 4]  138 	sbc	a, a
   0067 67            [ 4]  139 	ld	h,a
   0068 79            [ 4]  140 	ld	a,c
   0069 95            [ 4]  141 	sub	a, l
   006A 6F            [ 4]  142 	ld	l,a
   006B 78            [ 4]  143 	ld	a,b
   006C 9C            [ 4]  144 	sbc	a, h
   006D 67            [ 4]  145 	ld	h,a
   006E AF            [ 4]  146 	xor	a, a
   006F BD            [ 4]  147 	cp	a, l
   0070 9C            [ 4]  148 	sbc	a, h
   0071 E2r76r00      [10]  149 	jp	PO, 00185$
   0074 EE 80         [ 7]  150 	xor	a, #0x80
   0076                     151 00185$:
   0076 F2r80r00      [10]  152 	jp	P,00102$
                            153 ;src/entities/user.c:50: user.y = user.y - user.vy;
   0079 7B            [ 4]  154 	ld	a,e
   007A 92            [ 4]  155 	sub	a, d
   007B 32r07r00      [13]  156 	ld	(#(_user + 0x0007)),a
   007E 18 05         [12]  157 	jr	00105$
   0080                     158 00102$:
                            159 ;src/entities/user.c:52: user.y = 0;
   0080 21r07r00      [10]  160 	ld	hl,#(_user + 0x0007)
   0083 36 00         [10]  161 	ld	(hl),#0x00
   0085                     162 00105$:
                            163 ;src/entities/user.c:55: if ((cpct_isKeyPressed(Key_P))){ 
   0085 21 03 08      [10]  164 	ld	hl,#0x0803
   0088 E5            [11]  165 	push	hl
   0089 CDr00r00      [17]  166 	call	_cpct_isKeyPressed
   008C F1            [10]  167 	pop	af
   008D 7D            [ 4]  168 	ld	a,l
   008E B7            [ 4]  169 	or	a, a
   008F 28 3F         [12]  170 	jr	Z,00110$
                            171 ;src/entities/user.c:56: if ((user.x+user.vx<(79-user.w)))
   0091 21r06r00      [10]  172 	ld	hl, #(_user + 0x0006) + 0
   0094 5E            [ 7]  173 	ld	e,(hl)
   0095 4B            [ 4]  174 	ld	c,e
   0096 06 00         [ 7]  175 	ld	b,#0x00
   0098 21r0Er00      [10]  176 	ld	hl, #_user + 14
   009B 56            [ 7]  177 	ld	d,(hl)
   009C 7A            [ 4]  178 	ld	a,d
   009D 6F            [ 4]  179 	ld	l,a
   009E 17            [ 4]  180 	rla
   009F 9F            [ 4]  181 	sbc	a, a
   00A0 67            [ 4]  182 	ld	h,a
   00A1 09            [11]  183 	add	hl,bc
   00A2 4D            [ 4]  184 	ld	c,l
   00A3 44            [ 4]  185 	ld	b,h
   00A4 3Ar08r00      [13]  186 	ld	a,(#_user + 8)
   00A7 DD 77 FF      [19]  187 	ld	-1 (ix), a
   00AA 6F            [ 4]  188 	ld	l, a
   00AB 26 00         [ 7]  189 	ld	h,#0x00
   00AD 3E 4F         [ 7]  190 	ld	a,#0x4F
   00AF 95            [ 4]  191 	sub	a, l
   00B0 6F            [ 4]  192 	ld	l,a
   00B1 3E 00         [ 7]  193 	ld	a,#0x00
   00B3 9C            [ 4]  194 	sbc	a, h
   00B4 67            [ 4]  195 	ld	h,a
   00B5 79            [ 4]  196 	ld	a,c
   00B6 95            [ 4]  197 	sub	a, l
   00B7 78            [ 4]  198 	ld	a,b
   00B8 9C            [ 4]  199 	sbc	a, h
   00B9 E2rBEr00      [10]  200 	jp	PO, 00186$
   00BC EE 80         [ 7]  201 	xor	a, #0x80
   00BE                     202 00186$:
   00BE F2rC8r00      [10]  203 	jp	P,00107$
                            204 ;src/entities/user.c:57: user.x = user.x + user.vx;
   00C1 7B            [ 4]  205 	ld	a,e
   00C2 82            [ 4]  206 	add	a, d
   00C3 32r06r00      [13]  207 	ld	(#(_user + 0x0006)),a
   00C6 18 08         [12]  208 	jr	00110$
   00C8                     209 00107$:
                            210 ;src/entities/user.c:59: user.x = 79-user.w;
   00C8 3E 4F         [ 7]  211 	ld	a,#0x4F
   00CA DD 96 FF      [19]  212 	sub	a, -1 (ix)
   00CD 32r06r00      [13]  213 	ld	(#(_user + 0x0006)),a
   00D0                     214 00110$:
                            215 ;src/entities/user.c:62: if (cpct_isKeyPressed(Key_O)){
   00D0 21 04 04      [10]  216 	ld	hl,#0x0404
   00D3 E5            [11]  217 	push	hl
   00D4 CDr00r00      [17]  218 	call	_cpct_isKeyPressed
   00D7 F1            [10]  219 	pop	af
   00D8 7D            [ 4]  220 	ld	a,l
   00D9 B7            [ 4]  221 	or	a, a
   00DA 28 2D         [12]  222 	jr	Z,00115$
                            223 ;src/entities/user.c:63: if ((user.x-user.vx)>0) 
   00DC 21r06r00      [10]  224 	ld	hl, #(_user + 0x0006) + 0
   00DF 5E            [ 7]  225 	ld	e,(hl)
   00E0 4B            [ 4]  226 	ld	c,e
   00E1 06 00         [ 7]  227 	ld	b,#0x00
   00E3 21r0Er00      [10]  228 	ld	hl, #_user + 14
   00E6 56            [ 7]  229 	ld	d,(hl)
   00E7 7A            [ 4]  230 	ld	a,d
   00E8 6F            [ 4]  231 	ld	l,a
   00E9 17            [ 4]  232 	rla
   00EA 9F            [ 4]  233 	sbc	a, a
   00EB 67            [ 4]  234 	ld	h,a
   00EC 79            [ 4]  235 	ld	a,c
   00ED 95            [ 4]  236 	sub	a, l
   00EE 6F            [ 4]  237 	ld	l,a
   00EF 78            [ 4]  238 	ld	a,b
   00F0 9C            [ 4]  239 	sbc	a, h
   00F1 67            [ 4]  240 	ld	h,a
   00F2 AF            [ 4]  241 	xor	a, a
   00F3 BD            [ 4]  242 	cp	a, l
   00F4 9C            [ 4]  243 	sbc	a, h
   00F5 E2rFAr00      [10]  244 	jp	PO, 00187$
   00F8 EE 80         [ 7]  245 	xor	a, #0x80
   00FA                     246 00187$:
   00FA F2r04r01      [10]  247 	jp	P,00112$
                            248 ;src/entities/user.c:64: user.x = user.x - user.vx;    
   00FD 7B            [ 4]  249 	ld	a,e
   00FE 92            [ 4]  250 	sub	a, d
   00FF 32r06r00      [13]  251 	ld	(#(_user + 0x0006)),a
   0102 18 05         [12]  252 	jr	00115$
   0104                     253 00112$:
                            254 ;src/entities/user.c:66: user.x = 0;
   0104 21r06r00      [10]  255 	ld	hl,#(_user + 0x0006)
   0107 36 00         [10]  256 	ld	(hl),#0x00
   0109                     257 00115$:
                            258 ;src/entities/user.c:69: if (cpct_isKeyPressed(Key_A)){
   0109 21 08 20      [10]  259 	ld	hl,#0x2008
   010C E5            [11]  260 	push	hl
   010D CDr00r00      [17]  261 	call	_cpct_isKeyPressed
   0110 F1            [10]  262 	pop	af
   0111 7D            [ 4]  263 	ld	a,l
   0112 B7            [ 4]  264 	or	a, a
   0113 28 37         [12]  265 	jr	Z,00120$
                            266 ;src/entities/user.c:70: if ((user.y<(199-user.h) ))
   0115 21r07r00      [10]  267 	ld	hl, #(_user + 0x0007) + 0
   0118 5E            [ 7]  268 	ld	e,(hl)
   0119 3Ar09r00      [13]  269 	ld	a,(#_user + 9)
   011C DD 77 FF      [19]  270 	ld	-1 (ix), a
   011F 6F            [ 4]  271 	ld	l, a
   0120 26 00         [ 7]  272 	ld	h,#0x00
   0122 3E C7         [ 7]  273 	ld	a,#0xC7
   0124 95            [ 4]  274 	sub	a, l
   0125 6F            [ 4]  275 	ld	l,a
   0126 3E 00         [ 7]  276 	ld	a,#0x00
   0128 9C            [ 4]  277 	sbc	a, h
   0129 67            [ 4]  278 	ld	h,a
   012A 4B            [ 4]  279 	ld	c,e
   012B 16 00         [ 7]  280 	ld	d,#0x00
   012D 79            [ 4]  281 	ld	a,c
   012E 95            [ 4]  282 	sub	a, l
   012F 7A            [ 4]  283 	ld	a,d
   0130 9C            [ 4]  284 	sbc	a, h
   0131 E2r36r01      [10]  285 	jp	PO, 00188$
   0134 EE 80         [ 7]  286 	xor	a, #0x80
   0136                     287 00188$:
   0136 F2r44r01      [10]  288 	jp	P,00117$
                            289 ;src/entities/user.c:71: user.y = user.y + user.vy;
   0139 21r0Fr00      [10]  290 	ld	hl, #_user + 15
   013C 6E            [ 7]  291 	ld	l,(hl)
   013D 7B            [ 4]  292 	ld	a,e
   013E 85            [ 4]  293 	add	a, l
   013F 32r07r00      [13]  294 	ld	(#(_user + 0x0007)),a
   0142 18 08         [12]  295 	jr	00120$
   0144                     296 00117$:
                            297 ;src/entities/user.c:73: user.y = 199-user.h;
   0144 3E C7         [ 7]  298 	ld	a,#0xC7
   0146 DD 96 FF      [19]  299 	sub	a, -1 (ix)
   0149 32r07r00      [13]  300 	ld	(#(_user + 0x0007)),a
   014C                     301 00120$:
                            302 ;src/entities/user.c:76: if (cpct_isKeyPressed(Key_D)){
   014C 21 07 20      [10]  303 	ld	hl,#0x2007
   014F E5            [11]  304 	push	hl
   0150 CDr00r00      [17]  305 	call	_cpct_isKeyPressed
   0153 F1            [10]  306 	pop	af
   0154 7D            [ 4]  307 	ld	a,l
   0155 B7            [ 4]  308 	or	a, a
   0156 28 1B         [12]  309 	jr	Z,00122$
                            310 ;src/entities/user.c:77: shoot_type=(shoot_type+1)%2;
   0158 FD 21r12r00   [14]  311 	ld	iy,#_shoot_type
   015C FD 6E 00      [19]  312 	ld	l,0 (iy)
   015F 26 00         [ 7]  313 	ld	h,#0x00
   0161 23            [ 6]  314 	inc	hl
   0162 01 02 00      [10]  315 	ld	bc,#0x0002
   0165 C5            [11]  316 	push	bc
   0166 E5            [11]  317 	push	hl
   0167 CDr00r00      [17]  318 	call	__modsint
   016A F1            [10]  319 	pop	af
   016B F1            [10]  320 	pop	af
   016C FD 21r12r00   [14]  321 	ld	iy,#_shoot_type
   0170 FD 75 00      [19]  322 	ld	0 (iy),l
   0173                     323 00122$:
                            324 ;src/entities/user.c:80: if (cpct_isKeyPressed(Key_H)){
   0173 21 05 10      [10]  325 	ld	hl,#0x1005
   0176 E5            [11]  326 	push	hl
   0177 CDr00r00      [17]  327 	call	_cpct_isKeyPressed
   017A F1            [10]  328 	pop	af
   017B 7D            [ 4]  329 	ld	a,l
   017C B7            [ 4]  330 	or	a, a
   017D 28 39         [12]  331 	jr	Z,00124$
                            332 ;src/entities/user.c:81: create_enemy((rand()%80),(rand()%199),(rand()%2));
   017F CDr00r00      [17]  333 	call	_rand
   0182 01 02 00      [10]  334 	ld	bc,#0x0002
   0185 C5            [11]  335 	push	bc
   0186 E5            [11]  336 	push	hl
   0187 CDr00r00      [17]  337 	call	__modsint
   018A F1            [10]  338 	pop	af
   018B F1            [10]  339 	pop	af
   018C DD 75 FF      [19]  340 	ld	-1 (ix),l
   018F CDr00r00      [17]  341 	call	_rand
   0192 01 C7 00      [10]  342 	ld	bc,#0x00C7
   0195 C5            [11]  343 	push	bc
   0196 E5            [11]  344 	push	hl
   0197 CDr00r00      [17]  345 	call	__modsint
   019A F1            [10]  346 	pop	af
   019B E3            [19]  347 	ex	(sp),hl
   019C CDr00r00      [17]  348 	call	_rand
   019F 11 50 00      [10]  349 	ld	de,#0x0050
   01A2 D5            [11]  350 	push	de
   01A3 E5            [11]  351 	push	hl
   01A4 CDr00r00      [17]  352 	call	__modsint
   01A7 F1            [10]  353 	pop	af
   01A8 F1            [10]  354 	pop	af
   01A9 EB            [ 4]  355 	ex	de,hl
   01AA C1            [10]  356 	pop	bc
   01AB DD 7E FF      [19]  357 	ld	a,-1 (ix)
   01AE F5            [11]  358 	push	af
   01AF 33            [ 6]  359 	inc	sp
   01B0 C5            [11]  360 	push	bc
   01B1 D5            [11]  361 	push	de
   01B2 CDr00r00      [17]  362 	call	_create_enemy
   01B5 F1            [10]  363 	pop	af
   01B6 F1            [10]  364 	pop	af
   01B7 33            [ 6]  365 	inc	sp
   01B8                     366 00124$:
                            367 ;src/entities/user.c:83: if (cpct_isKeyPressed(Key_J)){
   01B8 21 05 20      [10]  368 	ld	hl,#0x2005
   01BB E5            [11]  369 	push	hl
   01BC CDr00r00      [17]  370 	call	_cpct_isKeyPressed
   01BF F1            [10]  371 	pop	af
   01C0 7D            [ 4]  372 	ld	a,l
   01C1 B7            [ 4]  373 	or	a, a
   01C2 CAr7Dr02      [10]  374 	jp	Z,00126$
                            375 ;src/entities/user.c:84: x=rand()%80;
   01C5 CDr00r00      [17]  376 	call	_rand
   01C8 01 50 00      [10]  377 	ld	bc,#0x0050
   01CB C5            [11]  378 	push	bc
   01CC E5            [11]  379 	push	hl
   01CD CDr00r00      [17]  380 	call	__modsint
   01D0 F1            [10]  381 	pop	af
   01D1 F1            [10]  382 	pop	af
   01D2 DD 75 FC      [19]  383 	ld	-4 (ix),l
                            384 ;src/entities/user.c:85: y=rand()%199;
   01D5 CDr00r00      [17]  385 	call	_rand
   01D8 01 C7 00      [10]  386 	ld	bc,#0x00C7
   01DB C5            [11]  387 	push	bc
   01DC E5            [11]  388 	push	hl
   01DD CDr00r00      [17]  389 	call	__modsint
   01E0 F1            [10]  390 	pop	af
   01E1 F1            [10]  391 	pop	af
   01E2 4D            [ 4]  392 	ld	c,l
                            393 ;src/entities/user.c:86: create_enemy(x,y,(rand()%2));
   01E3 C5            [11]  394 	push	bc
   01E4 CDr00r00      [17]  395 	call	_rand
   01E7 11 02 00      [10]  396 	ld	de,#0x0002
   01EA D5            [11]  397 	push	de
   01EB E5            [11]  398 	push	hl
   01EC CDr00r00      [17]  399 	call	__modsint
   01EF F1            [10]  400 	pop	af
   01F0 F1            [10]  401 	pop	af
   01F1 C1            [10]  402 	pop	bc
   01F2 5D            [ 4]  403 	ld	e,l
   01F3 DD 71 FD      [19]  404 	ld	-3 (ix),c
   01F6 DD 36 FE 00   [19]  405 	ld	-2 (ix),#0x00
   01FA DD 4E FC      [19]  406 	ld	c,-4 (ix)
   01FD 06 00         [ 7]  407 	ld	b,#0x00
   01FF C5            [11]  408 	push	bc
   0200 7B            [ 4]  409 	ld	a,e
   0201 F5            [11]  410 	push	af
   0202 33            [ 6]  411 	inc	sp
   0203 DD 6E FD      [19]  412 	ld	l,-3 (ix)
   0206 DD 66 FE      [19]  413 	ld	h,-2 (ix)
   0209 E5            [11]  414 	push	hl
   020A C5            [11]  415 	push	bc
   020B CDr00r00      [17]  416 	call	_create_enemy
   020E F1            [10]  417 	pop	af
   020F F1            [10]  418 	pop	af
   0210 33            [ 6]  419 	inc	sp
   0211 CDr00r00      [17]  420 	call	_rand
   0214 11 02 00      [10]  421 	ld	de,#0x0002
   0217 D5            [11]  422 	push	de
   0218 E5            [11]  423 	push	hl
   0219 CDr00r00      [17]  424 	call	__modsint
   021C F1            [10]  425 	pop	af
   021D F1            [10]  426 	pop	af
   021E C1            [10]  427 	pop	bc
   021F 5D            [ 4]  428 	ld	e,l
   0220 21 08 00      [10]  429 	ld	hl,#0x0008
   0223 09            [11]  430 	add	hl,bc
   0224 C5            [11]  431 	push	bc
   0225 7B            [ 4]  432 	ld	a,e
   0226 F5            [11]  433 	push	af
   0227 33            [ 6]  434 	inc	sp
   0228 DD 5E FD      [19]  435 	ld	e,-3 (ix)
   022B DD 56 FE      [19]  436 	ld	d,-2 (ix)
   022E D5            [11]  437 	push	de
   022F E5            [11]  438 	push	hl
   0230 CDr00r00      [17]  439 	call	_create_enemy
   0233 F1            [10]  440 	pop	af
   0234 F1            [10]  441 	pop	af
   0235 33            [ 6]  442 	inc	sp
   0236 CDr00r00      [17]  443 	call	_rand
   0239 11 02 00      [10]  444 	ld	de,#0x0002
   023C D5            [11]  445 	push	de
   023D E5            [11]  446 	push	hl
   023E CDr00r00      [17]  447 	call	__modsint
   0241 F1            [10]  448 	pop	af
   0242 F1            [10]  449 	pop	af
   0243 C1            [10]  450 	pop	bc
   0244 5D            [ 4]  451 	ld	e,l
   0245 21 10 00      [10]  452 	ld	hl,#0x0010
   0248 09            [11]  453 	add	hl,bc
   0249 C5            [11]  454 	push	bc
   024A 7B            [ 4]  455 	ld	a,e
   024B F5            [11]  456 	push	af
   024C 33            [ 6]  457 	inc	sp
   024D DD 5E FD      [19]  458 	ld	e,-3 (ix)
   0250 DD 56 FE      [19]  459 	ld	d,-2 (ix)
   0253 D5            [11]  460 	push	de
   0254 E5            [11]  461 	push	hl
   0255 CDr00r00      [17]  462 	call	_create_enemy
   0258 F1            [10]  463 	pop	af
   0259 F1            [10]  464 	pop	af
   025A 33            [ 6]  465 	inc	sp
   025B CDr00r00      [17]  466 	call	_rand
   025E 11 02 00      [10]  467 	ld	de,#0x0002
   0261 D5            [11]  468 	push	de
   0262 E5            [11]  469 	push	hl
   0263 CDr00r00      [17]  470 	call	__modsint
   0266 F1            [10]  471 	pop	af
   0267 F1            [10]  472 	pop	af
   0268 C1            [10]  473 	pop	bc
   0269 5D            [ 4]  474 	ld	e,l
   026A 21 18 00      [10]  475 	ld	hl,#0x0018
   026D 09            [11]  476 	add	hl,bc
   026E 7B            [ 4]  477 	ld	a,e
   026F F5            [11]  478 	push	af
   0270 33            [ 6]  479 	inc	sp
   0271 D1            [10]  480 	pop	de
   0272 C1            [10]  481 	pop	bc
   0273 C5            [11]  482 	push	bc
   0274 D5            [11]  483 	push	de
   0275 C5            [11]  484 	push	bc
   0276 E5            [11]  485 	push	hl
   0277 CDr00r00      [17]  486 	call	_create_enemy
   027A F1            [10]  487 	pop	af
   027B F1            [10]  488 	pop	af
   027C 33            [ 6]  489 	inc	sp
   027D                     490 00126$:
                            491 ;src/entities/user.c:91: if (cpct_isKeyPressed(Key_K)){
   027D 21 04 20      [10]  492 	ld	hl,#0x2004
   0280 E5            [11]  493 	push	hl
   0281 CDr00r00      [17]  494 	call	_cpct_isKeyPressed
   0284 F1            [10]  495 	pop	af
   0285 7D            [ 4]  496 	ld	a,l
   0286 B7            [ 4]  497 	or	a, a
   0287 28 2A         [12]  498 	jr	Z,00128$
                            499 ;src/entities/user.c:92: create_enemy_group((rand()%80),(rand()%199),0,4);
   0289 CDr00r00      [17]  500 	call	_rand
   028C 01 C7 00      [10]  501 	ld	bc,#0x00C7
   028F C5            [11]  502 	push	bc
   0290 E5            [11]  503 	push	hl
   0291 CDr00r00      [17]  504 	call	__modsint
   0294 F1            [10]  505 	pop	af
   0295 E3            [19]  506 	ex	(sp),hl
   0296 CDr00r00      [17]  507 	call	_rand
   0299 11 50 00      [10]  508 	ld	de,#0x0050
   029C D5            [11]  509 	push	de
   029D E5            [11]  510 	push	hl
   029E CDr00r00      [17]  511 	call	__modsint
   02A1 F1            [10]  512 	pop	af
   02A2 F1            [10]  513 	pop	af
   02A3 EB            [ 4]  514 	ex	de,hl
   02A4 C1            [10]  515 	pop	bc
   02A5 21 00 04      [10]  516 	ld	hl,#0x0400
   02A8 E5            [11]  517 	push	hl
   02A9 C5            [11]  518 	push	bc
   02AA D5            [11]  519 	push	de
   02AB CDr00r00      [17]  520 	call	_create_enemy_group
   02AE 21 06 00      [10]  521 	ld	hl,#6
   02B1 39            [11]  522 	add	hl,sp
   02B2 F9            [ 6]  523 	ld	sp,hl
   02B3                     524 00128$:
                            525 ;src/entities/user.c:95: if (cpct_isKeyPressed(Key_Space)){
   02B3 21 05 80      [10]  526 	ld	hl,#0x8005
   02B6 E5            [11]  527 	push	hl
   02B7 CDr00r00      [17]  528 	call	_cpct_isKeyPressed
   02BA F1            [10]  529 	pop	af
   02BB 7D            [ 4]  530 	ld	a,l
   02BC B7            [ 4]  531 	or	a, a
   02BD 28 1B         [12]  532 	jr	Z,00131$
                            533 ;src/entities/user.c:96: create_shoot(user.x+3, user.y-1, shoot_type);
   02BF 3Ar07r00      [13]  534 	ld	a, (#_user + 7)
   02C2 5F            [ 4]  535 	ld	e,a
   02C3 1D            [ 4]  536 	dec	e
   02C4 3Ar06r00      [13]  537 	ld	a, (#_user + 6)
   02C7 57            [ 4]  538 	ld	d,a
   02C8 14            [ 4]  539 	inc	d
   02C9 14            [ 4]  540 	inc	d
   02CA 14            [ 4]  541 	inc	d
   02CB 3Ar12r00      [13]  542 	ld	a,(_shoot_type)
   02CE F5            [11]  543 	push	af
   02CF 33            [ 6]  544 	inc	sp
   02D0 7B            [ 4]  545 	ld	a,e
   02D1 F5            [11]  546 	push	af
   02D2 33            [ 6]  547 	inc	sp
   02D3 D5            [11]  548 	push	de
   02D4 33            [ 6]  549 	inc	sp
   02D5 CDr00r00      [17]  550 	call	_create_shoot
   02D8 F1            [10]  551 	pop	af
   02D9 33            [ 6]  552 	inc	sp
   02DA                     553 00131$:
   02DA DD F9         [10]  554 	ld	sp, ix
   02DC DD E1         [14]  555 	pop	ix
   02DE C9            [10]  556 	ret
                            557 ;src/entities/user.c:101: void draw_user(u8* screen){
                            558 ;	---------------------------------
                            559 ; Function draw_user
                            560 ; ---------------------------------
   02DF                     561 _draw_user::
   02DF DD E5         [15]  562 	push	ix
   02E1 DD 21 00 00   [14]  563 	ld	ix,#0
   02E5 DD 39         [15]  564 	add	ix,sp
                            565 ;src/entities/user.c:103: pscreen = cpct_getScreenPtr(screen, user.x, user.y);
   02E7 21r07r00      [10]  566 	ld	hl, #_user + 7
   02EA 4E            [ 7]  567 	ld	c,(hl)
   02EB 21r06r00      [10]  568 	ld	hl, #_user + 6
   02EE 66            [ 7]  569 	ld	h,(hl)
   02EF DD 5E 04      [19]  570 	ld	e,4 (ix)
   02F2 DD 56 05      [19]  571 	ld	d,5 (ix)
   02F5 79            [ 4]  572 	ld	a,c
   02F6 F5            [11]  573 	push	af
   02F7 33            [ 6]  574 	inc	sp
   02F8 E5            [11]  575 	push	hl
   02F9 33            [ 6]  576 	inc	sp
   02FA D5            [11]  577 	push	de
   02FB CDr00r00      [17]  578 	call	_cpct_getScreenPtr
   02FE F1            [10]  579 	pop	af
   02FF F1            [10]  580 	pop	af
   0300 EB            [ 4]  581 	ex	de,hl
                            582 ;src/entities/user.c:104: cpct_drawSprite( (u8*) user.sprite,pscreen,user.w,user.h);
   0301 21r09r00      [10]  583 	ld	hl, #_user + 9
   0304 4E            [ 7]  584 	ld	c,(hl)
   0305 21r08r00      [10]  585 	ld	hl, #_user + 8
   0308 46            [ 7]  586 	ld	b,(hl)
   0309 2Ar04r00      [16]  587 	ld	hl, (#_user + 4)
   030C E5            [11]  588 	push	hl
   030D FD E1         [14]  589 	pop	iy
   030F 79            [ 4]  590 	ld	a,c
   0310 F5            [11]  591 	push	af
   0311 33            [ 6]  592 	inc	sp
   0312 C5            [11]  593 	push	bc
   0313 33            [ 6]  594 	inc	sp
   0314 D5            [11]  595 	push	de
   0315 FD E5         [15]  596 	push	iy
   0317 CDr00r00      [17]  597 	call	_cpct_drawSprite
   031A 21 06 00      [10]  598 	ld	hl,#6
   031D 39            [11]  599 	add	hl,sp
   031E F9            [ 6]  600 	ld	sp,hl
   031F DD E1         [14]  601 	pop	ix
   0321 C9            [10]  602 	ret
                            603 	.area _CODE
                            604 	.area _INITIALIZER
                            605 	.area _CABS (ABS)
