                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Aug  4 2015) (Mac OS X x86_64)
                              4 ; This file was generated Fri Aug  7 15:43:54 2015
                              5 ;--------------------------------------------------------
                              6 	.module user
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _create_explosion
                             13 	.globl _create_enemy_group
                             14 	.globl _create_enemy
                             15 	.globl _create_shoot
                             16 	.globl _cpct_getScreenPtr
                             17 	.globl _cpct_drawSprite
                             18 	.globl _cpct_isKeyPressed
                             19 	.globl _cpct_scanKeyboard_f
                             20 	.globl _rand
                             21 	.globl _shoot_type
                             22 	.globl _user
                             23 	.globl _init_user
                             24 	.globl _get_user_max_shoots
                             25 	.globl _update_user
                             26 	.globl _draw_user
                             27 	.globl _set_score
                             28 	.globl _add_score
                             29 	.globl _get_score
                             30 ;--------------------------------------------------------
                             31 ; special function registers
                             32 ;--------------------------------------------------------
                             33 ;--------------------------------------------------------
                             34 ; ram data
                             35 ;--------------------------------------------------------
                             36 	.area _DATA
   0000                      37 _user::
   0000                      38 	.ds 26
   001A                      39 _shoot_type::
   001A                      40 	.ds 1
                             41 ;--------------------------------------------------------
                             42 ; ram data
                             43 ;--------------------------------------------------------
                             44 	.area _INITIALIZED
                             45 ;--------------------------------------------------------
                             46 ; absolute external ram data
                             47 ;--------------------------------------------------------
                             48 	.area _DABS (ABS)
                             49 ;--------------------------------------------------------
                             50 ; global & static initialisations
                             51 ;--------------------------------------------------------
                             52 	.area _HOME
                             53 	.area _GSINIT
                             54 	.area _GSFINAL
                             55 	.area _GSINIT
                             56 ;--------------------------------------------------------
                             57 ; Home
                             58 ;--------------------------------------------------------
                             59 	.area _HOME
                             60 	.area _HOME
                             61 ;--------------------------------------------------------
                             62 ; code
                             63 ;--------------------------------------------------------
                             64 	.area _CODE
                             65 ;src/entities/user.c:9: void init_user(){
                             66 ;	---------------------------------
                             67 ; Function init_user
                             68 ; ---------------------------------
   0000                      69 _init_user::
                             70 ;src/entities/user.c:11: user.w = 4;
   0000 21r0Er00      [10]   71 	ld	hl,#_user + 14
   0003 36 04         [10]   72 	ld	(hl),#0x04
                             73 ;src/entities/user.c:12: user.h = 8;
   0005 FD 21r0Fr00   [14]   74 	ld	iy,#_user + 15
   0009 FD 36 00 08   [19]   75 	ld	0 (iy), #0x08
                             76 ;src/entities/user.c:13: user.x = 39-(user.w/2);
   000D 6E            [ 7]   77 	ld	l,(hl)
   000E CB 3D         [ 8]   78 	srl	l
   0010 3E 27         [ 7]   79 	ld	a,#0x27
   0012 95            [ 4]   80 	sub	a, l
   0013 32r06r00      [13]   81 	ld	(#(_user + 0x0006)),a
                             82 ;src/entities/user.c:14: user.y = 199-(user.h);
   0016 FD 66 00      [19]   83 	ld	h, 0 (iy)
   0019 3E C7         [ 7]   84 	ld	a,#0xC7
   001B 94            [ 4]   85 	sub	a, h
   001C 32r07r00      [13]   86 	ld	(#(_user + 0x0007)),a
                             87 ;src/entities/user.c:15: user.vx = 0;
   001F 21r08r00      [10]   88 	ld	hl,#_user + 8
   0022 36 00         [10]   89 	ld	(hl),#0x00
                             90 ;src/entities/user.c:16: user.vy = 0;
   0024 21r09r00      [10]   91 	ld	hl,#_user + 9
   0027 36 00         [10]   92 	ld	(hl),#0x00
                             93 ;src/entities/user.c:17: user.topvx = 4;
   0029 21r0Ar00      [10]   94 	ld	hl,#_user + 10
   002C 36 04         [10]   95 	ld	(hl),#0x04
                             96 ;src/entities/user.c:18: user.topvy = 5;
   002E 21r0Br00      [10]   97 	ld	hl,#_user + 11
   0031 36 05         [10]   98 	ld	(hl),#0x05
                             99 ;src/entities/user.c:19: user.ax=0;
   0033 21r0Cr00      [10]  100 	ld	hl,#_user + 12
   0036 36 00         [10]  101 	ld	(hl),#0x00
                            102 ;src/entities/user.c:20: user.ay=0;
   0038 21r0Dr00      [10]  103 	ld	hl,#_user + 13
   003B 36 00         [10]  104 	ld	(hl),#0x00
                            105 ;src/entities/user.c:21: user.sprite = (u8*) G_ship_00;
   003D 21r00r00      [10]  106 	ld	hl,#_G_ship_00
   0040 22r04r00      [16]  107 	ld	((_user + 0x0004)), hl
                            108 ;src/entities/user.c:22: user.score = 0;
   0043 21 00 00      [10]  109 	ld	hl,#0x0000
   0046 22r16r00      [16]  110 	ld	((_user + 0x0016)),hl
   0049 22r18r00      [16]  111 	ld	((_user + 0x0016)+2), hl
                            112 ;src/entities/user.c:24: user.max_shoots = 10;
   004C 21r15r00      [10]  113 	ld	hl,#_user + 21
   004F 36 0A         [10]  114 	ld	(hl),#0x0A
                            115 ;src/entities/user.c:25: shoot_type = 1;
   0051 21r1Ar00      [10]  116 	ld	hl,#_shoot_type + 0
   0054 36 01         [10]  117 	ld	(hl), #0x01
   0056 C9            [10]  118 	ret
                            119 ;src/entities/user.c:28: u8 get_user_max_shoots(){
                            120 ;	---------------------------------
                            121 ; Function get_user_max_shoots
                            122 ; ---------------------------------
   0057                     123 _get_user_max_shoots::
                            124 ;src/entities/user.c:29: return user.max_shoots;
   0057 21r15r00      [10]  125 	ld	hl,#_user+21
   005A 6E            [ 7]  126 	ld	l,(hl)
   005B C9            [10]  127 	ret
                            128 ;src/entities/user.c:32: void update_user() {
                            129 ;	---------------------------------
                            130 ; Function update_user
                            131 ; ---------------------------------
   005C                     132 _update_user::
   005C DD E5         [15]  133 	push	ix
   005E DD 21 00 00   [14]  134 	ld	ix,#0
   0062 DD 39         [15]  135 	add	ix,sp
   0064 F5            [11]  136 	push	af
   0065 F5            [11]  137 	push	af
                            138 ;src/entities/user.c:35: user.ax=0;
   0066 21r0Cr00      [10]  139 	ld	hl,#(_user + 0x000c)
   0069 36 00         [10]  140 	ld	(hl),#0x00
                            141 ;src/entities/user.c:38: cpct_scanKeyboard_f();
   006B CDr00r00      [17]  142 	call	_cpct_scanKeyboard_f
                            143 ;src/entities/user.c:45: if ((cpct_isKeyPressed(Key_Q))){ 
   006E 21 08 08      [10]  144 	ld	hl,#0x0808
   0071 E5            [11]  145 	push	hl
   0072 CDr00r00      [17]  146 	call	_cpct_isKeyPressed
   0075 F1            [10]  147 	pop	af
                            148 ;src/entities/user.c:46: user.ay = -2;
                            149 ;src/entities/user.c:45: if ((cpct_isKeyPressed(Key_Q))){ 
   0076 7D            [ 4]  150 	ld	a,l
   0077 B7            [ 4]  151 	or	a, a
   0078 28 07         [12]  152 	jr	Z,00104$
                            153 ;src/entities/user.c:46: user.ay = -2;
   007A 21r0Dr00      [10]  154 	ld	hl,#(_user + 0x000d)
   007D 36 FE         [10]  155 	ld	(hl),#0xFE
   007F 18 11         [12]  156 	jr	00105$
   0081                     157 00104$:
                            158 ;src/entities/user.c:47: } else if (cpct_isKeyPressed(Key_A)){
   0081 21 08 20      [10]  159 	ld	hl,#0x2008
   0084 E5            [11]  160 	push	hl
   0085 CDr00r00      [17]  161 	call	_cpct_isKeyPressed
   0088 F1            [10]  162 	pop	af
   0089 7D            [ 4]  163 	ld	a,l
   008A B7            [ 4]  164 	or	a, a
   008B 28 05         [12]  165 	jr	Z,00105$
                            166 ;src/entities/user.c:48: user.ay=2;    
   008D 21r0Dr00      [10]  167 	ld	hl,#(_user + 0x000d)
   0090 36 02         [10]  168 	ld	(hl),#0x02
   0092                     169 00105$:
                            170 ;src/entities/user.c:51: if ((cpct_isKeyPressed(Key_P))){ 
   0092 21 03 08      [10]  171 	ld	hl,#0x0803
   0095 E5            [11]  172 	push	hl
   0096 CDr00r00      [17]  173 	call	_cpct_isKeyPressed
   0099 F1            [10]  174 	pop	af
   009A 7D            [ 4]  175 	ld	a,l
   009B B7            [ 4]  176 	or	a, a
   009C 28 07         [12]  177 	jr	Z,00109$
                            178 ;src/entities/user.c:52: user.ax = 2;
   009E 21r0Cr00      [10]  179 	ld	hl,#(_user + 0x000c)
   00A1 36 02         [10]  180 	ld	(hl),#0x02
   00A3 18 11         [12]  181 	jr	00110$
   00A5                     182 00109$:
                            183 ;src/entities/user.c:53: } else if (cpct_isKeyPressed(Key_O)){
   00A5 21 04 04      [10]  184 	ld	hl,#0x0404
   00A8 E5            [11]  185 	push	hl
   00A9 CDr00r00      [17]  186 	call	_cpct_isKeyPressed
   00AC F1            [10]  187 	pop	af
   00AD 7D            [ 4]  188 	ld	a,l
   00AE B7            [ 4]  189 	or	a, a
   00AF 28 05         [12]  190 	jr	Z,00110$
                            191 ;src/entities/user.c:54: user.ax=-2;    
   00B1 21r0Cr00      [10]  192 	ld	hl,#(_user + 0x000c)
   00B4 36 FE         [10]  193 	ld	(hl),#0xFE
   00B6                     194 00110$:
                            195 ;src/entities/user.c:58: if (cpct_isKeyPressed(Key_D)){
   00B6 21 07 20      [10]  196 	ld	hl,#0x2007
   00B9 E5            [11]  197 	push	hl
   00BA CDr00r00      [17]  198 	call	_cpct_isKeyPressed
   00BD F1            [10]  199 	pop	af
   00BE 7D            [ 4]  200 	ld	a,l
   00BF B7            [ 4]  201 	or	a, a
   00C0 28 1B         [12]  202 	jr	Z,00112$
                            203 ;src/entities/user.c:59: shoot_type=(shoot_type+1)%2;
   00C2 FD 21r1Ar00   [14]  204 	ld	iy,#_shoot_type
   00C6 FD 6E 00      [19]  205 	ld	l,0 (iy)
   00C9 26 00         [ 7]  206 	ld	h,#0x00
   00CB 23            [ 6]  207 	inc	hl
   00CC 01 02 00      [10]  208 	ld	bc,#0x0002
   00CF C5            [11]  209 	push	bc
   00D0 E5            [11]  210 	push	hl
   00D1 CDr00r00      [17]  211 	call	__modsint
   00D4 F1            [10]  212 	pop	af
   00D5 F1            [10]  213 	pop	af
   00D6 FD 21r1Ar00   [14]  214 	ld	iy,#_shoot_type
   00DA FD 75 00      [19]  215 	ld	0 (iy),l
   00DD                     216 00112$:
                            217 ;src/entities/user.c:62: if (cpct_isKeyPressed(Key_H)){
   00DD 21 05 10      [10]  218 	ld	hl,#0x1005
   00E0 E5            [11]  219 	push	hl
   00E1 CDr00r00      [17]  220 	call	_cpct_isKeyPressed
   00E4 F1            [10]  221 	pop	af
   00E5 7D            [ 4]  222 	ld	a,l
   00E6 B7            [ 4]  223 	or	a, a
   00E7 28 39         [12]  224 	jr	Z,00114$
                            225 ;src/entities/user.c:63: create_enemy((rand()%80),(rand()%199),(rand()%3));
   00E9 CDr00r00      [17]  226 	call	_rand
   00EC 01 03 00      [10]  227 	ld	bc,#0x0003
   00EF C5            [11]  228 	push	bc
   00F0 E5            [11]  229 	push	hl
   00F1 CDr00r00      [17]  230 	call	__modsint
   00F4 F1            [10]  231 	pop	af
   00F5 F1            [10]  232 	pop	af
   00F6 DD 75 FF      [19]  233 	ld	-1 (ix),l
   00F9 CDr00r00      [17]  234 	call	_rand
   00FC 01 C7 00      [10]  235 	ld	bc,#0x00C7
   00FF C5            [11]  236 	push	bc
   0100 E5            [11]  237 	push	hl
   0101 CDr00r00      [17]  238 	call	__modsint
   0104 F1            [10]  239 	pop	af
   0105 E3            [19]  240 	ex	(sp),hl
   0106 CDr00r00      [17]  241 	call	_rand
   0109 11 50 00      [10]  242 	ld	de,#0x0050
   010C D5            [11]  243 	push	de
   010D E5            [11]  244 	push	hl
   010E CDr00r00      [17]  245 	call	__modsint
   0111 F1            [10]  246 	pop	af
   0112 F1            [10]  247 	pop	af
   0113 EB            [ 4]  248 	ex	de,hl
   0114 C1            [10]  249 	pop	bc
   0115 DD 7E FF      [19]  250 	ld	a,-1 (ix)
   0118 F5            [11]  251 	push	af
   0119 33            [ 6]  252 	inc	sp
   011A C5            [11]  253 	push	bc
   011B D5            [11]  254 	push	de
   011C CDr00r00      [17]  255 	call	_create_enemy
   011F F1            [10]  256 	pop	af
   0120 F1            [10]  257 	pop	af
   0121 33            [ 6]  258 	inc	sp
   0122                     259 00114$:
                            260 ;src/entities/user.c:66: if (cpct_isKeyPressed(Key_J)){
   0122 21 05 20      [10]  261 	ld	hl,#0x2005
   0125 E5            [11]  262 	push	hl
   0126 CDr00r00      [17]  263 	call	_cpct_isKeyPressed
   0129 F1            [10]  264 	pop	af
   012A 7D            [ 4]  265 	ld	a,l
   012B B7            [ 4]  266 	or	a, a
   012C CArC2r01      [10]  267 	jp	Z,00116$
                            268 ;src/entities/user.c:67: x=rand()%80;
   012F CDr00r00      [17]  269 	call	_rand
   0132 01 50 00      [10]  270 	ld	bc,#0x0050
   0135 C5            [11]  271 	push	bc
   0136 E5            [11]  272 	push	hl
   0137 CDr00r00      [17]  273 	call	__modsint
   013A F1            [10]  274 	pop	af
   013B F1            [10]  275 	pop	af
   013C DD 75 FC      [19]  276 	ld	-4 (ix),l
                            277 ;src/entities/user.c:68: y=rand()%199;
   013F CDr00r00      [17]  278 	call	_rand
   0142 01 C7 00      [10]  279 	ld	bc,#0x00C7
   0145 C5            [11]  280 	push	bc
   0146 E5            [11]  281 	push	hl
   0147 CDr00r00      [17]  282 	call	__modsint
   014A F1            [10]  283 	pop	af
   014B F1            [10]  284 	pop	af
   014C 4D            [ 4]  285 	ld	c,l
                            286 ;src/entities/user.c:69: create_enemy(x,y,(rand()%3));
   014D C5            [11]  287 	push	bc
   014E CDr00r00      [17]  288 	call	_rand
   0151 11 03 00      [10]  289 	ld	de,#0x0003
   0154 D5            [11]  290 	push	de
   0155 E5            [11]  291 	push	hl
   0156 CDr00r00      [17]  292 	call	__modsint
   0159 F1            [10]  293 	pop	af
   015A F1            [10]  294 	pop	af
   015B C1            [10]  295 	pop	bc
   015C 5D            [ 4]  296 	ld	e,l
   015D DD 71 FD      [19]  297 	ld	-3 (ix),c
   0160 DD 36 FE 00   [19]  298 	ld	-2 (ix),#0x00
   0164 DD 4E FC      [19]  299 	ld	c,-4 (ix)
   0167 06 00         [ 7]  300 	ld	b,#0x00
   0169 C5            [11]  301 	push	bc
   016A 7B            [ 4]  302 	ld	a,e
   016B F5            [11]  303 	push	af
   016C 33            [ 6]  304 	inc	sp
   016D DD 6E FD      [19]  305 	ld	l,-3 (ix)
   0170 DD 66 FE      [19]  306 	ld	h,-2 (ix)
   0173 E5            [11]  307 	push	hl
   0174 C5            [11]  308 	push	bc
   0175 CDr00r00      [17]  309 	call	_create_enemy
   0178 F1            [10]  310 	pop	af
   0179 F1            [10]  311 	pop	af
   017A 33            [ 6]  312 	inc	sp
   017B CDr00r00      [17]  313 	call	_rand
   017E 11 03 00      [10]  314 	ld	de,#0x0003
   0181 D5            [11]  315 	push	de
   0182 E5            [11]  316 	push	hl
   0183 CDr00r00      [17]  317 	call	__modsint
   0186 F1            [10]  318 	pop	af
   0187 F1            [10]  319 	pop	af
   0188 C1            [10]  320 	pop	bc
   0189 5D            [ 4]  321 	ld	e,l
   018A 21 08 00      [10]  322 	ld	hl,#0x0008
   018D 09            [11]  323 	add	hl,bc
   018E C5            [11]  324 	push	bc
   018F 7B            [ 4]  325 	ld	a,e
   0190 F5            [11]  326 	push	af
   0191 33            [ 6]  327 	inc	sp
   0192 DD 5E FD      [19]  328 	ld	e,-3 (ix)
   0195 DD 56 FE      [19]  329 	ld	d,-2 (ix)
   0198 D5            [11]  330 	push	de
   0199 E5            [11]  331 	push	hl
   019A CDr00r00      [17]  332 	call	_create_enemy
   019D F1            [10]  333 	pop	af
   019E F1            [10]  334 	pop	af
   019F 33            [ 6]  335 	inc	sp
   01A0 CDr00r00      [17]  336 	call	_rand
   01A3 11 03 00      [10]  337 	ld	de,#0x0003
   01A6 D5            [11]  338 	push	de
   01A7 E5            [11]  339 	push	hl
   01A8 CDr00r00      [17]  340 	call	__modsint
   01AB F1            [10]  341 	pop	af
   01AC F1            [10]  342 	pop	af
   01AD C1            [10]  343 	pop	bc
   01AE 5D            [ 4]  344 	ld	e,l
   01AF 21 10 00      [10]  345 	ld	hl,#0x0010
   01B2 09            [11]  346 	add	hl,bc
   01B3 7B            [ 4]  347 	ld	a,e
   01B4 F5            [11]  348 	push	af
   01B5 33            [ 6]  349 	inc	sp
   01B6 D1            [10]  350 	pop	de
   01B7 C1            [10]  351 	pop	bc
   01B8 C5            [11]  352 	push	bc
   01B9 D5            [11]  353 	push	de
   01BA C5            [11]  354 	push	bc
   01BB E5            [11]  355 	push	hl
   01BC CDr00r00      [17]  356 	call	_create_enemy
   01BF F1            [10]  357 	pop	af
   01C0 F1            [10]  358 	pop	af
   01C1 33            [ 6]  359 	inc	sp
   01C2                     360 00116$:
                            361 ;src/entities/user.c:74: if (cpct_isKeyPressed(Key_K)){
   01C2 21 04 20      [10]  362 	ld	hl,#0x2004
   01C5 E5            [11]  363 	push	hl
   01C6 CDr00r00      [17]  364 	call	_cpct_isKeyPressed
   01C9 F1            [10]  365 	pop	af
   01CA 7D            [ 4]  366 	ld	a,l
   01CB B7            [ 4]  367 	or	a, a
   01CC 28 44         [12]  368 	jr	Z,00118$
                            369 ;src/entities/user.c:75: create_enemy_group((rand()%10)+5,rand()%40,rand()%3,12);
   01CE CDr00r00      [17]  370 	call	_rand
   01D1 01 03 00      [10]  371 	ld	bc,#0x0003
   01D4 C5            [11]  372 	push	bc
   01D5 E5            [11]  373 	push	hl
   01D6 CDr00r00      [17]  374 	call	__modsint
   01D9 F1            [10]  375 	pop	af
   01DA F1            [10]  376 	pop	af
   01DB DD 75 FD      [19]  377 	ld	-3 (ix),l
   01DE CDr00r00      [17]  378 	call	_rand
   01E1 01 28 00      [10]  379 	ld	bc,#0x0028
   01E4 C5            [11]  380 	push	bc
   01E5 E5            [11]  381 	push	hl
   01E6 CDr00r00      [17]  382 	call	__modsint
   01E9 F1            [10]  383 	pop	af
   01EA E3            [19]  384 	ex	(sp),hl
   01EB CDr00r00      [17]  385 	call	_rand
   01EE 11 0A 00      [10]  386 	ld	de,#0x000A
   01F1 D5            [11]  387 	push	de
   01F2 E5            [11]  388 	push	hl
   01F3 CDr00r00      [17]  389 	call	__modsint
   01F6 F1            [10]  390 	pop	af
   01F7 F1            [10]  391 	pop	af
   01F8 EB            [ 4]  392 	ex	de,hl
   01F9 C1            [10]  393 	pop	bc
   01FA 13            [ 6]  394 	inc	de
   01FB 13            [ 6]  395 	inc	de
   01FC 13            [ 6]  396 	inc	de
   01FD 13            [ 6]  397 	inc	de
   01FE 13            [ 6]  398 	inc	de
   01FF 3E 0C         [ 7]  399 	ld	a,#0x0C
   0201 F5            [11]  400 	push	af
   0202 33            [ 6]  401 	inc	sp
   0203 DD 7E FD      [19]  402 	ld	a,-3 (ix)
   0206 F5            [11]  403 	push	af
   0207 33            [ 6]  404 	inc	sp
   0208 C5            [11]  405 	push	bc
   0209 D5            [11]  406 	push	de
   020A CDr00r00      [17]  407 	call	_create_enemy_group
   020D 21 06 00      [10]  408 	ld	hl,#6
   0210 39            [11]  409 	add	hl,sp
   0211 F9            [ 6]  410 	ld	sp,hl
   0212                     411 00118$:
                            412 ;src/entities/user.c:78: if (cpct_isKeyPressed(Key_Space)){
   0212 21 05 80      [10]  413 	ld	hl,#0x8005
   0215 E5            [11]  414 	push	hl
   0216 CDr00r00      [17]  415 	call	_cpct_isKeyPressed
   0219 F1            [10]  416 	pop	af
                            417 ;src/entities/user.c:79: create_shoot(user.x+2, user.y, shoot_type);
                            418 ;src/entities/user.c:78: if (cpct_isKeyPressed(Key_Space)){
   021A 7D            [ 4]  419 	ld	a,l
   021B B7            [ 4]  420 	or	a, a
   021C 28 16         [12]  421 	jr	Z,00120$
                            422 ;src/entities/user.c:79: create_shoot(user.x+2, user.y, shoot_type);
   021E 21r07r00      [10]  423 	ld	hl, #_user + 7
   0221 46            [ 7]  424 	ld	b,(hl)
   0222 3Ar06r00      [13]  425 	ld	a, (#(_user + 0x0006) + 0)
   0225 57            [ 4]  426 	ld	d,a
   0226 14            [ 4]  427 	inc	d
   0227 14            [ 4]  428 	inc	d
   0228 3Ar1Ar00      [13]  429 	ld	a,(_shoot_type)
   022B F5            [11]  430 	push	af
   022C 33            [ 6]  431 	inc	sp
   022D 4A            [ 4]  432 	ld	c, d
   022E C5            [11]  433 	push	bc
   022F CDr00r00      [17]  434 	call	_create_shoot
   0232 F1            [10]  435 	pop	af
   0233 33            [ 6]  436 	inc	sp
   0234                     437 00120$:
                            438 ;src/entities/user.c:83: if (cpct_isKeyPressed(Key_L)){
   0234 21 04 10      [10]  439 	ld	hl,#0x1004
   0237 E5            [11]  440 	push	hl
   0238 CDr00r00      [17]  441 	call	_cpct_isKeyPressed
   023B F1            [10]  442 	pop	af
   023C 7D            [ 4]  443 	ld	a,l
   023D B7            [ 4]  444 	or	a, a
   023E 28 43         [12]  445 	jr	Z,00122$
                            446 ;src/entities/user.c:84: create_explosion((rand()%20)+5,(rand()%80)+20,rand()%2);
   0240 CDr00r00      [17]  447 	call	_rand
   0243 01 02 00      [10]  448 	ld	bc,#0x0002
   0246 C5            [11]  449 	push	bc
   0247 E5            [11]  450 	push	hl
   0248 CDr00r00      [17]  451 	call	__modsint
   024B F1            [10]  452 	pop	af
   024C F1            [10]  453 	pop	af
   024D DD 75 FD      [19]  454 	ld	-3 (ix),l
   0250 CDr00r00      [17]  455 	call	_rand
   0253 01 50 00      [10]  456 	ld	bc,#0x0050
   0256 C5            [11]  457 	push	bc
   0257 E5            [11]  458 	push	hl
   0258 CDr00r00      [17]  459 	call	__modsint
   025B F1            [10]  460 	pop	af
   025C F1            [10]  461 	pop	af
   025D 7D            [ 4]  462 	ld	a,l
   025E C6 14         [ 7]  463 	add	a, #0x14
   0260 5F            [ 4]  464 	ld	e,a
   0261 D5            [11]  465 	push	de
   0262 CDr00r00      [17]  466 	call	_rand
   0265 01 14 00      [10]  467 	ld	bc,#0x0014
   0268 C5            [11]  468 	push	bc
   0269 E5            [11]  469 	push	hl
   026A CDr00r00      [17]  470 	call	__modsint
   026D F1            [10]  471 	pop	af
   026E F1            [10]  472 	pop	af
   026F D1            [10]  473 	pop	de
   0270 7D            [ 4]  474 	ld	a,l
   0271 C6 05         [ 7]  475 	add	a, #0x05
   0273 57            [ 4]  476 	ld	d,a
   0274 DD 7E FD      [19]  477 	ld	a,-3 (ix)
   0277 F5            [11]  478 	push	af
   0278 33            [ 6]  479 	inc	sp
   0279 7B            [ 4]  480 	ld	a,e
   027A F5            [11]  481 	push	af
   027B 33            [ 6]  482 	inc	sp
   027C D5            [11]  483 	push	de
   027D 33            [ 6]  484 	inc	sp
   027E CDr00r00      [17]  485 	call	_create_explosion
   0281 F1            [10]  486 	pop	af
   0282 33            [ 6]  487 	inc	sp
   0283                     488 00122$:
                            489 ;src/entities/user.c:88: if (user.ax!=0){
   0283 21r0Cr00      [10]  490 	ld	hl, #(_user + 0x000c) + 0
   0286 56            [ 7]  491 	ld	d,(hl)
                            492 ;src/entities/user.c:89: if ((( user.vx >= 0 ) && (user.vx < user.topvx)) || ((user.vx <= 0 ) && (user.vx > -user.topvx))){
                            493 ;src/entities/user.c:88: if (user.ax!=0){
   0287 7A            [ 4]  494 	ld	a,d
   0288 B7            [ 4]  495 	or	a, a
   0289 28 42         [12]  496 	jr	Z,00129$
                            497 ;src/entities/user.c:89: if ((( user.vx >= 0 ) && (user.vx < user.topvx)) || ((user.vx <= 0 ) && (user.vx > -user.topvx))){
   028B 21r08r00      [10]  498 	ld	hl, #(_user + 0x0008) + 0
   028E 5E            [ 7]  499 	ld	e,(hl)
   028F 21r0Ar00      [10]  500 	ld	hl,#_user + 10
   0292 CB 7B         [ 8]  501 	bit	7, e
   0294 20 0B         [12]  502 	jr	NZ,00127$
   0296 46            [ 7]  503 	ld	b,(hl)
   0297 7B            [ 4]  504 	ld	a,e
   0298 90            [ 4]  505 	sub	a, b
   0299 E2r9Er02      [10]  506 	jp	PO, 00210$
   029C EE 80         [ 7]  507 	xor	a, #0x80
   029E                     508 00210$:
   029E FArC8r02      [10]  509 	jp	M,00123$
   02A1                     510 00127$:
   02A1 AF            [ 4]  511 	xor	a, a
   02A2 93            [ 4]  512 	sub	a, e
   02A3 E2rA8r02      [10]  513 	jp	PO, 00211$
   02A6 EE 80         [ 7]  514 	xor	a, #0x80
   02A8                     515 00211$:
   02A8 FArCDr02      [10]  516 	jp	M,00129$
   02AB 7E            [ 7]  517 	ld	a,(hl)
   02AC 6F            [ 4]  518 	ld	l,a
   02AD 17            [ 4]  519 	rla
   02AE 9F            [ 4]  520 	sbc	a, a
   02AF 67            [ 4]  521 	ld	h,a
   02B0 AF            [ 4]  522 	xor	a, a
   02B1 95            [ 4]  523 	sub	a, l
   02B2 6F            [ 4]  524 	ld	l,a
   02B3 3E 00         [ 7]  525 	ld	a, #0x00
   02B5 9C            [ 4]  526 	sbc	a, h
   02B6 67            [ 4]  527 	ld	h,a
   02B7 7B            [ 4]  528 	ld	a,e
   02B8 4F            [ 4]  529 	ld	c,a
   02B9 17            [ 4]  530 	rla
   02BA 9F            [ 4]  531 	sbc	a, a
   02BB 47            [ 4]  532 	ld	b,a
   02BC 7D            [ 4]  533 	ld	a,l
   02BD 91            [ 4]  534 	sub	a, c
   02BE 7C            [ 4]  535 	ld	a,h
   02BF 98            [ 4]  536 	sbc	a, b
   02C0 E2rC5r02      [10]  537 	jp	PO, 00212$
   02C3 EE 80         [ 7]  538 	xor	a, #0x80
   02C5                     539 00212$:
   02C5 F2rCDr02      [10]  540 	jp	P,00129$
   02C8                     541 00123$:
                            542 ;src/entities/user.c:90: user.vx+=user.ax;
   02C8 7B            [ 4]  543 	ld	a,e
   02C9 82            [ 4]  544 	add	a, d
   02CA 32r08r00      [13]  545 	ld	(#(_user + 0x0008)),a
   02CD                     546 00129$:
                            547 ;src/entities/user.c:94: if (user.vx>0){
   02CD 21r08r00      [10]  548 	ld	hl, #(_user + 0x0008) + 0
   02D0 56            [ 7]  549 	ld	d,(hl)
   02D1 AF            [ 4]  550 	xor	a, a
   02D2 92            [ 4]  551 	sub	a, d
   02D3 E2rD8r02      [10]  552 	jp	PO, 00213$
   02D6 EE 80         [ 7]  553 	xor	a, #0x80
   02D8                     554 00213$:
   02D8 F2rE2r02      [10]  555 	jp	P,00133$
                            556 ;src/entities/user.c:95: user.vx--;
   02DB 15            [ 4]  557 	dec	d
   02DC 21r08r00      [10]  558 	ld	hl,#(_user + 0x0008)
   02DF 72            [ 7]  559 	ld	(hl),d
   02E0 18 09         [12]  560 	jr	00134$
   02E2                     561 00133$:
                            562 ;src/entities/user.c:96: } else if (user.vx<0){
   02E2 CB 7A         [ 8]  563 	bit	7, d
   02E4 28 05         [12]  564 	jr	Z,00134$
                            565 ;src/entities/user.c:97: user.vx++;
   02E6 14            [ 4]  566 	inc	d
   02E7 21r08r00      [10]  567 	ld	hl,#(_user + 0x0008)
   02EA 72            [ 7]  568 	ld	(hl),d
   02EB                     569 00134$:
                            570 ;src/entities/user.c:100: user.x+=user.vx;
   02EB 21r06r00      [10]  571 	ld	hl, #(_user + 0x0006) + 0
   02EE 56            [ 7]  572 	ld	d,(hl)
   02EF 21r08r00      [10]  573 	ld	hl, #(_user + 0x0008) + 0
   02F2 66            [ 7]  574 	ld	h,(hl)
   02F3 7A            [ 4]  575 	ld	a,d
   02F4 84            [ 4]  576 	add	a, h
   02F5 57            [ 4]  577 	ld	d,a
   02F6 21r06r00      [10]  578 	ld	hl,#(_user + 0x0006)
   02F9 72            [ 7]  579 	ld	(hl),d
                            580 ;src/entities/user.c:102: if (user.x<0)
   02FA 21r06r00      [10]  581 	ld	hl, #(_user + 0x0006) + 0
   02FD 5E            [ 7]  582 	ld	e,(hl)
   02FE CB 7A         [ 8]  583 	bit	7, d
   0300 28 07         [12]  584 	jr	Z,00138$
                            585 ;src/entities/user.c:103: user.x=0;
   0302 21r06r00      [10]  586 	ld	hl,#(_user + 0x0006)
   0305 36 00         [10]  587 	ld	(hl),#0x00
   0307 18 25         [12]  588 	jr	00140$
   0309                     589 00138$:
                            590 ;src/entities/user.c:104: else if (user.x> 79-user.w){
   0309 21r0Er00      [10]  591 	ld	hl, #_user + 14
   030C 66            [ 7]  592 	ld	h,(hl)
   030D 4C            [ 4]  593 	ld	c,h
   030E 06 00         [ 7]  594 	ld	b,#0x00
   0310 3E 4F         [ 7]  595 	ld	a,#0x4F
   0312 91            [ 4]  596 	sub	a, c
   0313 4F            [ 4]  597 	ld	c,a
   0314 3E 00         [ 7]  598 	ld	a,#0x00
   0316 98            [ 4]  599 	sbc	a, b
   0317 47            [ 4]  600 	ld	b,a
   0318 7B            [ 4]  601 	ld	a,e
   0319 17            [ 4]  602 	rla
   031A 9F            [ 4]  603 	sbc	a, a
   031B 57            [ 4]  604 	ld	d,a
   031C 79            [ 4]  605 	ld	a,c
   031D 93            [ 4]  606 	sub	a, e
   031E 78            [ 4]  607 	ld	a,b
   031F 9A            [ 4]  608 	sbc	a, d
   0320 E2r25r03      [10]  609 	jp	PO, 00214$
   0323 EE 80         [ 7]  610 	xor	a, #0x80
   0325                     611 00214$:
   0325 F2r2Er03      [10]  612 	jp	P,00140$
                            613 ;src/entities/user.c:105: user.x = 79-user.w;
   0328 3E 4F         [ 7]  614 	ld	a,#0x4F
   032A 94            [ 4]  615 	sub	a, h
   032B 32r06r00      [13]  616 	ld	(#(_user + 0x0006)),a
   032E                     617 00140$:
   032E DD F9         [10]  618 	ld	sp, ix
   0330 DD E1         [14]  619 	pop	ix
   0332 C9            [10]  620 	ret
                            621 ;src/entities/user.c:109: void draw_user(u8* screen){
                            622 ;	---------------------------------
                            623 ; Function draw_user
                            624 ; ---------------------------------
   0333                     625 _draw_user::
   0333 DD E5         [15]  626 	push	ix
   0335 DD 21 00 00   [14]  627 	ld	ix,#0
   0339 DD 39         [15]  628 	add	ix,sp
                            629 ;src/entities/user.c:111: pscreen = cpct_getScreenPtr(screen, user.x, user.y);
   033B 21r07r00      [10]  630 	ld	hl, #_user + 7
   033E 4E            [ 7]  631 	ld	c,(hl)
   033F 21r06r00      [10]  632 	ld	hl, #_user + 6
   0342 66            [ 7]  633 	ld	h,(hl)
   0343 DD 5E 04      [19]  634 	ld	e,4 (ix)
   0346 DD 56 05      [19]  635 	ld	d,5 (ix)
   0349 79            [ 4]  636 	ld	a,c
   034A F5            [11]  637 	push	af
   034B 33            [ 6]  638 	inc	sp
   034C E5            [11]  639 	push	hl
   034D 33            [ 6]  640 	inc	sp
   034E D5            [11]  641 	push	de
   034F CDr00r00      [17]  642 	call	_cpct_getScreenPtr
   0352 EB            [ 4]  643 	ex	de,hl
                            644 ;src/entities/user.c:112: cpct_drawSprite( (u8*) user.sprite,pscreen,user.w,user.h);
   0353 21r0Fr00      [10]  645 	ld	hl, #_user + 15
   0356 4E            [ 7]  646 	ld	c,(hl)
   0357 21r0Er00      [10]  647 	ld	hl, #_user + 14
   035A 46            [ 7]  648 	ld	b,(hl)
   035B 2Ar04r00      [16]  649 	ld	hl, (#_user + 4)
   035E E5            [11]  650 	push	hl
   035F FD E1         [14]  651 	pop	iy
   0361 79            [ 4]  652 	ld	a,c
   0362 F5            [11]  653 	push	af
   0363 33            [ 6]  654 	inc	sp
   0364 C5            [11]  655 	push	bc
   0365 33            [ 6]  656 	inc	sp
   0366 D5            [11]  657 	push	de
   0367 FD E5         [15]  658 	push	iy
   0369 CDr00r00      [17]  659 	call	_cpct_drawSprite
   036C DD E1         [14]  660 	pop	ix
   036E C9            [10]  661 	ret
                            662 ;src/entities/user.c:115: void set_score(u32 new_score){
                            663 ;	---------------------------------
                            664 ; Function set_score
                            665 ; ---------------------------------
   036F                     666 _set_score::
                            667 ;src/entities/user.c:116: user.score = new_score;
   036F 11r16r00      [10]  668 	ld	de,#_user+22
   0372 21 02 00      [10]  669 	ld	hl, #0x0002
   0375 39            [11]  670 	add	hl, sp
   0376 01 04 00      [10]  671 	ld	bc, #0x0004
   0379 ED B0         [21]  672 	ldir
   037B C9            [10]  673 	ret
                            674 ;src/entities/user.c:118: void add_score(u16 new_add_score){
                            675 ;	---------------------------------
                            676 ; Function add_score
                            677 ; ---------------------------------
   037C                     678 _add_score::
   037C DD E5         [15]  679 	push	ix
   037E DD 21 00 00   [14]  680 	ld	ix,#0
   0382 DD 39         [15]  681 	add	ix,sp
   0384 F5            [11]  682 	push	af
   0385 F5            [11]  683 	push	af
                            684 ;src/entities/user.c:119: user.score += new_add_score;
   0386 11r16r00      [10]  685 	ld	de,#(_user + 0x0016)
   0389 21 00 00      [10]  686 	ld	hl, #0x0000
   038C 39            [11]  687 	add	hl, sp
   038D EB            [ 4]  688 	ex	de, hl
   038E 01 04 00      [10]  689 	ld	bc, #0x0004
   0391 ED B0         [21]  690 	ldir
   0393 DD 6E 04      [19]  691 	ld	l,4 (ix)
   0396 DD 66 05      [19]  692 	ld	h,5 (ix)
   0399 01 00 00      [10]  693 	ld	bc,#0x0000
   039C DD 7E FC      [19]  694 	ld	a,-4 (ix)
   039F 85            [ 4]  695 	add	a, l
   03A0 5F            [ 4]  696 	ld	e,a
   03A1 DD 7E FD      [19]  697 	ld	a,-3 (ix)
   03A4 8C            [ 4]  698 	adc	a, h
   03A5 57            [ 4]  699 	ld	d,a
   03A6 DD 7E FE      [19]  700 	ld	a,-2 (ix)
   03A9 89            [ 4]  701 	adc	a, c
   03AA 4F            [ 4]  702 	ld	c,a
   03AB DD 7E FF      [19]  703 	ld	a,-1 (ix)
   03AE 88            [ 4]  704 	adc	a, b
   03AF 47            [ 4]  705 	ld	b,a
   03B0 ED 53r16r00   [20]  706 	ld	((_user + 0x0016)), de
   03B4 ED 43r18r00   [20]  707 	ld	((_user + 0x0016)+2), bc
   03B8 DD F9         [10]  708 	ld	sp, ix
   03BA DD E1         [14]  709 	pop	ix
   03BC C9            [10]  710 	ret
                            711 ;src/entities/user.c:121: u32 get_score(){
                            712 ;	---------------------------------
                            713 ; Function get_score
                            714 ; ---------------------------------
   03BD                     715 _get_score::
                            716 ;src/entities/user.c:122: return user.score;
   03BD 2Ar16r00      [16]  717 	ld	hl, (#(_user + 0x0016) + 0)
   03C0 ED 5Br18r00   [20]  718 	ld	de, (#(_user + 0x0016) + 2)
   03C4 C9            [10]  719 	ret
                            720 	.area _CODE
                            721 	.area _INITIALIZER
                            722 	.area _CABS (ABS)
