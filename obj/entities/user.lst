                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Jul 21 2015) (Mac OS X x86_64)
                              4 ; This file was generated Thu Jul 23 01:06:51 2015
                              5 ;--------------------------------------------------------
                              6 	.module user
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _create_explosion
                             13 	.globl _create_enemy_group
                             14 	.globl _create_enemy
                             15 	.globl _create_shoot
                             16 	.globl _cpct_getScreenPtr
                             17 	.globl _cpct_drawSprite
                             18 	.globl _cpct_isKeyPressed
                             19 	.globl _cpct_scanKeyboard_f
                             20 	.globl _rand
                             21 	.globl _shoot_type
                             22 	.globl _user
                             23 	.globl _init_user
                             24 	.globl _get_user_max_shoots
                             25 	.globl _update_user
                             26 	.globl _draw_user
                             27 ;--------------------------------------------------------
                             28 ; special function registers
                             29 ;--------------------------------------------------------
                             30 ;--------------------------------------------------------
                             31 ; ram data
                             32 ;--------------------------------------------------------
                             33 	.area _DATA
   0000                      34 _user::
   0000                      35 	.ds 22
   0016                      36 _shoot_type::
   0016                      37 	.ds 1
                             38 ;--------------------------------------------------------
                             39 ; ram data
                             40 ;--------------------------------------------------------
                             41 	.area _INITIALIZED
                             42 ;--------------------------------------------------------
                             43 ; absolute external ram data
                             44 ;--------------------------------------------------------
                             45 	.area _DABS (ABS)
                             46 ;--------------------------------------------------------
                             47 ; global & static initialisations
                             48 ;--------------------------------------------------------
                             49 	.area _HOME
                             50 	.area _GSINIT
                             51 	.area _GSFINAL
                             52 	.area _GSINIT
                             53 ;--------------------------------------------------------
                             54 ; Home
                             55 ;--------------------------------------------------------
                             56 	.area _HOME
                             57 	.area _HOME
                             58 ;--------------------------------------------------------
                             59 ; code
                             60 ;--------------------------------------------------------
                             61 	.area _CODE
                             62 ;src/entities/user.c:9: void init_user(){
                             63 ;	---------------------------------
                             64 ; Function init_user
                             65 ; ---------------------------------
   0000                      66 _init_user::
                             67 ;src/entities/user.c:11: user.w = 4;
   0000 21r0Er00      [10]   68 	ld	hl,#_user + 14
   0003 36 04         [10]   69 	ld	(hl),#0x04
                             70 ;src/entities/user.c:12: user.h = 8;
   0005 FD 21r0Fr00   [14]   71 	ld	iy,#_user + 15
   0009 FD 36 00 08   [19]   72 	ld	0 (iy), #0x08
                             73 ;src/entities/user.c:13: user.x = 39-(user.w/2);
   000D 6E            [ 7]   74 	ld	l,(hl)
   000E CB 3D         [ 8]   75 	srl	l
   0010 3E 27         [ 7]   76 	ld	a,#0x27
   0012 95            [ 4]   77 	sub	a, l
   0013 32r06r00      [13]   78 	ld	(#(_user + 0x0006)),a
                             79 ;src/entities/user.c:14: user.y = 199-(user.h);
   0016 FD 66 00      [19]   80 	ld	h, 0 (iy)
   0019 3E C7         [ 7]   81 	ld	a,#0xC7
   001B 94            [ 4]   82 	sub	a, h
   001C 32r07r00      [13]   83 	ld	(#(_user + 0x0007)),a
                             84 ;src/entities/user.c:15: user.vx = 0;
   001F 21r08r00      [10]   85 	ld	hl,#_user + 8
   0022 36 00         [10]   86 	ld	(hl),#0x00
                             87 ;src/entities/user.c:16: user.vy = 0;
   0024 21r09r00      [10]   88 	ld	hl,#_user + 9
   0027 36 00         [10]   89 	ld	(hl),#0x00
                             90 ;src/entities/user.c:17: user.topvx = 4;
   0029 21r0Ar00      [10]   91 	ld	hl,#_user + 10
   002C 36 04         [10]   92 	ld	(hl),#0x04
                             93 ;src/entities/user.c:18: user.topvy = 5;
   002E 21r0Br00      [10]   94 	ld	hl,#_user + 11
   0031 36 05         [10]   95 	ld	(hl),#0x05
                             96 ;src/entities/user.c:19: user.ax=0;
   0033 21r0Cr00      [10]   97 	ld	hl,#_user + 12
   0036 36 00         [10]   98 	ld	(hl),#0x00
                             99 ;src/entities/user.c:20: user.ay=0;
   0038 21r0Dr00      [10]  100 	ld	hl,#_user + 13
   003B 36 00         [10]  101 	ld	(hl),#0x00
                            102 ;src/entities/user.c:21: user.sprite = (u8*) G_ship_00;
   003D 21r00r00      [10]  103 	ld	hl,#_G_ship_00
   0040 22r04r00      [16]  104 	ld	((_user + 0x0004)), hl
                            105 ;src/entities/user.c:23: user.max_shoots = 10;
   0043 21r15r00      [10]  106 	ld	hl,#_user + 21
   0046 36 0A         [10]  107 	ld	(hl),#0x0A
                            108 ;src/entities/user.c:24: shoot_type = 1;
   0048 21r16r00      [10]  109 	ld	hl,#_shoot_type + 0
   004B 36 01         [10]  110 	ld	(hl), #0x01
   004D C9            [10]  111 	ret
                            112 ;src/entities/user.c:27: u8 get_user_max_shoots(){
                            113 ;	---------------------------------
                            114 ; Function get_user_max_shoots
                            115 ; ---------------------------------
   004E                     116 _get_user_max_shoots::
                            117 ;src/entities/user.c:28: return user.max_shoots;
   004E 21r15r00      [10]  118 	ld	hl,#_user+21
   0051 6E            [ 7]  119 	ld	l,(hl)
   0052 C9            [10]  120 	ret
                            121 ;src/entities/user.c:31: void update_user() {
                            122 ;	---------------------------------
                            123 ; Function update_user
                            124 ; ---------------------------------
   0053                     125 _update_user::
   0053 DD E5         [15]  126 	push	ix
   0055 DD 21 00 00   [14]  127 	ld	ix,#0
   0059 DD 39         [15]  128 	add	ix,sp
   005B 21 F9 FF      [10]  129 	ld	hl,#-7
   005E 39            [11]  130 	add	hl,sp
   005F F9            [ 6]  131 	ld	sp,hl
                            132 ;src/entities/user.c:34: user.ax=0;
   0060 01r00r00      [10]  133 	ld	bc,#_user+0
   0063 21r0Cr00      [10]  134 	ld	hl,#(_user + 0x000c)
   0066 36 00         [10]  135 	ld	(hl),#0x00
                            136 ;src/entities/user.c:37: cpct_scanKeyboard_f();
   0068 C5            [11]  137 	push	bc
   0069 CDr00r00      [17]  138 	call	_cpct_scanKeyboard_f
   006C 21 08 08      [10]  139 	ld	hl,#0x0808
   006F E5            [11]  140 	push	hl
   0070 CDr00r00      [17]  141 	call	_cpct_isKeyPressed
   0073 F1            [10]  142 	pop	af
   0074 C1            [10]  143 	pop	bc
                            144 ;src/entities/user.c:45: user.ay = -2;
                            145 ;src/entities/user.c:44: if ((cpct_isKeyPressed(Key_Q))){ 
   0075 7D            [ 4]  146 	ld	a,l
   0076 B7            [ 4]  147 	or	a, a
   0077 28 05         [12]  148 	jr	Z,00102$
                            149 ;src/entities/user.c:45: user.ay = -2;
   0079 21r0Dr00      [10]  150 	ld	hl,#(_user + 0x000d)
   007C 36 FE         [10]  151 	ld	(hl),#0xFE
   007E                     152 00102$:
                            153 ;src/entities/user.c:48: if ((cpct_isKeyPressed(Key_P))){ 
   007E C5            [11]  154 	push	bc
   007F 21 03 08      [10]  155 	ld	hl,#0x0803
   0082 E5            [11]  156 	push	hl
   0083 CDr00r00      [17]  157 	call	_cpct_isKeyPressed
   0086 F1            [10]  158 	pop	af
   0087 7D            [ 4]  159 	ld	a,l
   0088 C1            [10]  160 	pop	bc
   0089 B7            [ 4]  161 	or	a, a
   008A 28 05         [12]  162 	jr	Z,00104$
                            163 ;src/entities/user.c:49: user.ax = 2;
   008C 21r0Cr00      [10]  164 	ld	hl,#(_user + 0x000c)
   008F 36 02         [10]  165 	ld	(hl),#0x02
   0091                     166 00104$:
                            167 ;src/entities/user.c:52: if (cpct_isKeyPressed(Key_O)){
   0091 C5            [11]  168 	push	bc
   0092 21 04 04      [10]  169 	ld	hl,#0x0404
   0095 E5            [11]  170 	push	hl
   0096 CDr00r00      [17]  171 	call	_cpct_isKeyPressed
   0099 F1            [10]  172 	pop	af
   009A 7D            [ 4]  173 	ld	a,l
   009B C1            [10]  174 	pop	bc
   009C B7            [ 4]  175 	or	a, a
   009D 28 05         [12]  176 	jr	Z,00106$
                            177 ;src/entities/user.c:53: user.ax=-2;    
   009F 21r0Cr00      [10]  178 	ld	hl,#(_user + 0x000c)
   00A2 36 FE         [10]  179 	ld	(hl),#0xFE
   00A4                     180 00106$:
                            181 ;src/entities/user.c:56: if (cpct_isKeyPressed(Key_A)){
   00A4 C5            [11]  182 	push	bc
   00A5 21 08 20      [10]  183 	ld	hl,#0x2008
   00A8 E5            [11]  184 	push	hl
   00A9 CDr00r00      [17]  185 	call	_cpct_isKeyPressed
   00AC F1            [10]  186 	pop	af
   00AD 7D            [ 4]  187 	ld	a,l
   00AE C1            [10]  188 	pop	bc
   00AF B7            [ 4]  189 	or	a, a
   00B0 28 05         [12]  190 	jr	Z,00108$
                            191 ;src/entities/user.c:57: user.ay=2;    
   00B2 21r0Dr00      [10]  192 	ld	hl,#(_user + 0x000d)
   00B5 36 02         [10]  193 	ld	(hl),#0x02
   00B7                     194 00108$:
                            195 ;src/entities/user.c:60: if (cpct_isKeyPressed(Key_D)){
   00B7 C5            [11]  196 	push	bc
   00B8 21 07 20      [10]  197 	ld	hl,#0x2007
   00BB E5            [11]  198 	push	hl
   00BC CDr00r00      [17]  199 	call	_cpct_isKeyPressed
   00BF F1            [10]  200 	pop	af
   00C0 7D            [ 4]  201 	ld	a,l
   00C1 C1            [10]  202 	pop	bc
   00C2 B7            [ 4]  203 	or	a, a
   00C3 28 1D         [12]  204 	jr	Z,00110$
                            205 ;src/entities/user.c:61: shoot_type=(shoot_type+1)%2;
   00C5 FD 21r16r00   [14]  206 	ld	iy,#_shoot_type
   00C9 FD 6E 00      [19]  207 	ld	l,0 (iy)
   00CC 26 00         [ 7]  208 	ld	h,#0x00
   00CE 23            [ 6]  209 	inc	hl
   00CF C5            [11]  210 	push	bc
   00D0 11 02 00      [10]  211 	ld	de,#0x0002
   00D3 D5            [11]  212 	push	de
   00D4 E5            [11]  213 	push	hl
   00D5 CDr00r00      [17]  214 	call	__modsint
   00D8 F1            [10]  215 	pop	af
   00D9 F1            [10]  216 	pop	af
   00DA C1            [10]  217 	pop	bc
   00DB FD 21r16r00   [14]  218 	ld	iy,#_shoot_type
   00DF FD 75 00      [19]  219 	ld	0 (iy),l
   00E2                     220 00110$:
                            221 ;src/entities/user.c:64: if (cpct_isKeyPressed(Key_H)){
   00E2 C5            [11]  222 	push	bc
   00E3 21 05 10      [10]  223 	ld	hl,#0x1005
   00E6 E5            [11]  224 	push	hl
   00E7 CDr00r00      [17]  225 	call	_cpct_isKeyPressed
   00EA F1            [10]  226 	pop	af
   00EB 7D            [ 4]  227 	ld	a,l
   00EC C1            [10]  228 	pop	bc
   00ED B7            [ 4]  229 	or	a, a
   00EE 28 48         [12]  230 	jr	Z,00112$
                            231 ;src/entities/user.c:65: create_enemy((rand()%80),(rand()%199),(rand()%3));
   00F0 C5            [11]  232 	push	bc
   00F1 CDr00r00      [17]  233 	call	_rand
   00F4 11 03 00      [10]  234 	ld	de,#0x0003
   00F7 D5            [11]  235 	push	de
   00F8 E5            [11]  236 	push	hl
   00F9 CDr00r00      [17]  237 	call	__modsint
   00FC F1            [10]  238 	pop	af
   00FD F1            [10]  239 	pop	af
   00FE C1            [10]  240 	pop	bc
   00FF DD 75 FF      [19]  241 	ld	-1 (ix),l
   0102 C5            [11]  242 	push	bc
   0103 CDr00r00      [17]  243 	call	_rand
   0106 11 C7 00      [10]  244 	ld	de,#0x00C7
   0109 D5            [11]  245 	push	de
   010A E5            [11]  246 	push	hl
   010B CDr00r00      [17]  247 	call	__modsint
   010E F1            [10]  248 	pop	af
   010F F1            [10]  249 	pop	af
   0110 DD 74 FE      [19]  250 	ld	-2 (ix),h
   0113 DD 75 FD      [19]  251 	ld	-3 (ix),l
   0116 CDr00r00      [17]  252 	call	_rand
   0119 11 50 00      [10]  253 	ld	de,#0x0050
   011C D5            [11]  254 	push	de
   011D E5            [11]  255 	push	hl
   011E CDr00r00      [17]  256 	call	__modsint
   0121 F1            [10]  257 	pop	af
   0122 F1            [10]  258 	pop	af
   0123 EB            [ 4]  259 	ex	de,hl
   0124 DD 7E FF      [19]  260 	ld	a,-1 (ix)
   0127 F5            [11]  261 	push	af
   0128 33            [ 6]  262 	inc	sp
   0129 DD 6E FD      [19]  263 	ld	l,-3 (ix)
   012C DD 66 FE      [19]  264 	ld	h,-2 (ix)
   012F E5            [11]  265 	push	hl
   0130 D5            [11]  266 	push	de
   0131 CDr00r00      [17]  267 	call	_create_enemy
   0134 F1            [10]  268 	pop	af
   0135 F1            [10]  269 	pop	af
   0136 33            [ 6]  270 	inc	sp
   0137 C1            [10]  271 	pop	bc
   0138                     272 00112$:
                            273 ;src/entities/user.c:68: if (cpct_isKeyPressed(Key_J)){
   0138 C5            [11]  274 	push	bc
   0139 21 05 20      [10]  275 	ld	hl,#0x2005
   013C E5            [11]  276 	push	hl
   013D CDr00r00      [17]  277 	call	_cpct_isKeyPressed
   0140 F1            [10]  278 	pop	af
   0141 7D            [ 4]  279 	ld	a,l
   0142 C1            [10]  280 	pop	bc
   0143 B7            [ 4]  281 	or	a, a
   0144 CArFFr01      [10]  282 	jp	Z,00114$
                            283 ;src/entities/user.c:69: x=rand()%80;
   0147 C5            [11]  284 	push	bc
   0148 CDr00r00      [17]  285 	call	_rand
   014B 11 50 00      [10]  286 	ld	de,#0x0050
   014E D5            [11]  287 	push	de
   014F E5            [11]  288 	push	hl
   0150 CDr00r00      [17]  289 	call	__modsint
   0153 F1            [10]  290 	pop	af
   0154 F1            [10]  291 	pop	af
   0155 C1            [10]  292 	pop	bc
   0156 DD 75 FA      [19]  293 	ld	-6 (ix),l
                            294 ;src/entities/user.c:70: y=rand()%199;
   0159 C5            [11]  295 	push	bc
   015A CDr00r00      [17]  296 	call	_rand
   015D 11 C7 00      [10]  297 	ld	de,#0x00C7
   0160 D5            [11]  298 	push	de
   0161 E5            [11]  299 	push	hl
   0162 CDr00r00      [17]  300 	call	__modsint
   0165 F1            [10]  301 	pop	af
   0166 F1            [10]  302 	pop	af
   0167 C1            [10]  303 	pop	bc
   0168 DD 75 F9      [19]  304 	ld	-7 (ix),l
                            305 ;src/entities/user.c:71: create_enemy(x,y,(rand()%3));
   016B C5            [11]  306 	push	bc
   016C CDr00r00      [17]  307 	call	_rand
   016F 11 03 00      [10]  308 	ld	de,#0x0003
   0172 D5            [11]  309 	push	de
   0173 E5            [11]  310 	push	hl
   0174 CDr00r00      [17]  311 	call	__modsint
   0177 F1            [10]  312 	pop	af
   0178 F1            [10]  313 	pop	af
   0179 C1            [10]  314 	pop	bc
   017A 65            [ 4]  315 	ld	h,l
   017B DD 7E F9      [19]  316 	ld	a,-7 (ix)
   017E DD 77 FD      [19]  317 	ld	-3 (ix),a
   0181 DD 36 FE 00   [19]  318 	ld	-2 (ix),#0x00
   0185 DD 7E FA      [19]  319 	ld	a,-6 (ix)
   0188 DD 77 FB      [19]  320 	ld	-5 (ix),a
   018B DD 36 FC 00   [19]  321 	ld	-4 (ix),#0x00
   018F C5            [11]  322 	push	bc
   0190 E5            [11]  323 	push	hl
   0191 33            [ 6]  324 	inc	sp
   0192 DD 6E FD      [19]  325 	ld	l,-3 (ix)
   0195 DD 66 FE      [19]  326 	ld	h,-2 (ix)
   0198 E5            [11]  327 	push	hl
   0199 DD 6E FB      [19]  328 	ld	l,-5 (ix)
   019C DD 66 FC      [19]  329 	ld	h,-4 (ix)
   019F E5            [11]  330 	push	hl
   01A0 CDr00r00      [17]  331 	call	_create_enemy
   01A3 F1            [10]  332 	pop	af
   01A4 F1            [10]  333 	pop	af
   01A5 33            [ 6]  334 	inc	sp
   01A6 CDr00r00      [17]  335 	call	_rand
   01A9 11 03 00      [10]  336 	ld	de,#0x0003
   01AC D5            [11]  337 	push	de
   01AD E5            [11]  338 	push	hl
   01AE CDr00r00      [17]  339 	call	__modsint
   01B1 F1            [10]  340 	pop	af
   01B2 F1            [10]  341 	pop	af
   01B3 C1            [10]  342 	pop	bc
   01B4 65            [ 4]  343 	ld	h,l
   01B5 DD 7E FB      [19]  344 	ld	a,-5 (ix)
   01B8 C6 08         [ 7]  345 	add	a, #0x08
   01BA 5F            [ 4]  346 	ld	e,a
   01BB DD 7E FC      [19]  347 	ld	a,-4 (ix)
   01BE CE 00         [ 7]  348 	adc	a, #0x00
   01C0 57            [ 4]  349 	ld	d,a
   01C1 C5            [11]  350 	push	bc
   01C2 E5            [11]  351 	push	hl
   01C3 33            [ 6]  352 	inc	sp
   01C4 DD 6E FD      [19]  353 	ld	l,-3 (ix)
   01C7 DD 66 FE      [19]  354 	ld	h,-2 (ix)
   01CA E5            [11]  355 	push	hl
   01CB D5            [11]  356 	push	de
   01CC CDr00r00      [17]  357 	call	_create_enemy
   01CF F1            [10]  358 	pop	af
   01D0 F1            [10]  359 	pop	af
   01D1 33            [ 6]  360 	inc	sp
   01D2 CDr00r00      [17]  361 	call	_rand
   01D5 11 03 00      [10]  362 	ld	de,#0x0003
   01D8 D5            [11]  363 	push	de
   01D9 E5            [11]  364 	push	hl
   01DA CDr00r00      [17]  365 	call	__modsint
   01DD F1            [10]  366 	pop	af
   01DE F1            [10]  367 	pop	af
   01DF C1            [10]  368 	pop	bc
   01E0 65            [ 4]  369 	ld	h,l
   01E1 DD 7E FB      [19]  370 	ld	a,-5 (ix)
   01E4 C6 10         [ 7]  371 	add	a, #0x10
   01E6 5F            [ 4]  372 	ld	e,a
   01E7 DD 7E FC      [19]  373 	ld	a,-4 (ix)
   01EA CE 00         [ 7]  374 	adc	a, #0x00
   01EC 57            [ 4]  375 	ld	d,a
   01ED C5            [11]  376 	push	bc
   01EE E5            [11]  377 	push	hl
   01EF 33            [ 6]  378 	inc	sp
   01F0 DD 6E FD      [19]  379 	ld	l,-3 (ix)
   01F3 DD 66 FE      [19]  380 	ld	h,-2 (ix)
   01F6 E5            [11]  381 	push	hl
   01F7 D5            [11]  382 	push	de
   01F8 CDr00r00      [17]  383 	call	_create_enemy
   01FB F1            [10]  384 	pop	af
   01FC F1            [10]  385 	pop	af
   01FD 33            [ 6]  386 	inc	sp
   01FE C1            [10]  387 	pop	bc
   01FF                     388 00114$:
                            389 ;src/entities/user.c:76: if (cpct_isKeyPressed(Key_K)){
   01FF C5            [11]  390 	push	bc
   0200 21 04 20      [10]  391 	ld	hl,#0x2004
   0203 E5            [11]  392 	push	hl
   0204 CDr00r00      [17]  393 	call	_cpct_isKeyPressed
   0207 F1            [10]  394 	pop	af
   0208 7D            [ 4]  395 	ld	a,l
   0209 C1            [10]  396 	pop	bc
   020A B7            [ 4]  397 	or	a, a
   020B 28 55         [12]  398 	jr	Z,00116$
                            399 ;src/entities/user.c:77: create_enemy_group((rand()%10)+5,rand()%40,rand()%3,12);
   020D C5            [11]  400 	push	bc
   020E CDr00r00      [17]  401 	call	_rand
   0211 11 03 00      [10]  402 	ld	de,#0x0003
   0214 D5            [11]  403 	push	de
   0215 E5            [11]  404 	push	hl
   0216 CDr00r00      [17]  405 	call	__modsint
   0219 F1            [10]  406 	pop	af
   021A F1            [10]  407 	pop	af
   021B C1            [10]  408 	pop	bc
   021C DD 75 FB      [19]  409 	ld	-5 (ix),l
   021F C5            [11]  410 	push	bc
   0220 CDr00r00      [17]  411 	call	_rand
   0223 11 28 00      [10]  412 	ld	de,#0x0028
   0226 D5            [11]  413 	push	de
   0227 E5            [11]  414 	push	hl
   0228 CDr00r00      [17]  415 	call	__modsint
   022B F1            [10]  416 	pop	af
   022C F1            [10]  417 	pop	af
   022D DD 74 FE      [19]  418 	ld	-2 (ix),h
   0230 DD 75 FD      [19]  419 	ld	-3 (ix),l
   0233 CDr00r00      [17]  420 	call	_rand
   0236 11 0A 00      [10]  421 	ld	de,#0x000A
   0239 D5            [11]  422 	push	de
   023A E5            [11]  423 	push	hl
   023B CDr00r00      [17]  424 	call	__modsint
   023E F1            [10]  425 	pop	af
   023F F1            [10]  426 	pop	af
   0240 EB            [ 4]  427 	ex	de,hl
   0241 C1            [10]  428 	pop	bc
   0242 13            [ 6]  429 	inc	de
   0243 13            [ 6]  430 	inc	de
   0244 13            [ 6]  431 	inc	de
   0245 13            [ 6]  432 	inc	de
   0246 13            [ 6]  433 	inc	de
   0247 C5            [11]  434 	push	bc
   0248 3E 0C         [ 7]  435 	ld	a,#0x0C
   024A F5            [11]  436 	push	af
   024B 33            [ 6]  437 	inc	sp
   024C DD 7E FB      [19]  438 	ld	a,-5 (ix)
   024F F5            [11]  439 	push	af
   0250 33            [ 6]  440 	inc	sp
   0251 DD 6E FD      [19]  441 	ld	l,-3 (ix)
   0254 DD 66 FE      [19]  442 	ld	h,-2 (ix)
   0257 E5            [11]  443 	push	hl
   0258 D5            [11]  444 	push	de
   0259 CDr00r00      [17]  445 	call	_create_enemy_group
   025C 21 06 00      [10]  446 	ld	hl,#6
   025F 39            [11]  447 	add	hl,sp
   0260 F9            [ 6]  448 	ld	sp,hl
   0261 C1            [10]  449 	pop	bc
   0262                     450 00116$:
                            451 ;src/entities/user.c:80: if (cpct_isKeyPressed(Key_Space)){
   0262 C5            [11]  452 	push	bc
   0263 21 05 80      [10]  453 	ld	hl,#0x8005
   0266 E5            [11]  454 	push	hl
   0267 CDr00r00      [17]  455 	call	_cpct_isKeyPressed
   026A F1            [10]  456 	pop	af
   026B C1            [10]  457 	pop	bc
                            458 ;src/entities/user.c:81: create_shoot(user.x+2, user.y, shoot_type);
                            459 ;src/entities/user.c:80: if (cpct_isKeyPressed(Key_Space)){
   026C 7D            [ 4]  460 	ld	a,l
   026D B7            [ 4]  461 	or	a, a
   026E 28 1B         [12]  462 	jr	Z,00118$
                            463 ;src/entities/user.c:81: create_shoot(user.x+2, user.y, shoot_type);
   0270 21r07r00      [10]  464 	ld	hl, #_user + 7
   0273 5E            [ 7]  465 	ld	e,(hl)
   0274 3Ar06r00      [13]  466 	ld	a, (#(_user + 0x0006) + 0)
   0277 57            [ 4]  467 	ld	d,a
   0278 14            [ 4]  468 	inc	d
   0279 14            [ 4]  469 	inc	d
   027A C5            [11]  470 	push	bc
   027B 3Ar16r00      [13]  471 	ld	a,(_shoot_type)
   027E F5            [11]  472 	push	af
   027F 33            [ 6]  473 	inc	sp
   0280 7B            [ 4]  474 	ld	a,e
   0281 F5            [11]  475 	push	af
   0282 33            [ 6]  476 	inc	sp
   0283 D5            [11]  477 	push	de
   0284 33            [ 6]  478 	inc	sp
   0285 CDr00r00      [17]  479 	call	_create_shoot
   0288 F1            [10]  480 	pop	af
   0289 33            [ 6]  481 	inc	sp
   028A C1            [10]  482 	pop	bc
   028B                     483 00118$:
                            484 ;src/entities/user.c:85: if (cpct_isKeyPressed(Key_L)){
   028B C5            [11]  485 	push	bc
   028C 21 04 10      [10]  486 	ld	hl,#0x1004
   028F E5            [11]  487 	push	hl
   0290 CDr00r00      [17]  488 	call	_cpct_isKeyPressed
   0293 F1            [10]  489 	pop	af
   0294 7D            [ 4]  490 	ld	a,l
   0295 C1            [10]  491 	pop	bc
   0296 B7            [ 4]  492 	or	a, a
   0297 28 4A         [12]  493 	jr	Z,00120$
                            494 ;src/entities/user.c:86: create_explosion((rand()%20)+5,(rand()%80)+20,rand()%2);
   0299 C5            [11]  495 	push	bc
   029A CDr00r00      [17]  496 	call	_rand
   029D 11 02 00      [10]  497 	ld	de,#0x0002
   02A0 D5            [11]  498 	push	de
   02A1 E5            [11]  499 	push	hl
   02A2 CDr00r00      [17]  500 	call	__modsint
   02A5 F1            [10]  501 	pop	af
   02A6 F1            [10]  502 	pop	af
   02A7 C1            [10]  503 	pop	bc
   02A8 DD 75 FB      [19]  504 	ld	-5 (ix),l
   02AB C5            [11]  505 	push	bc
   02AC CDr00r00      [17]  506 	call	_rand
   02AF 11 50 00      [10]  507 	ld	de,#0x0050
   02B2 D5            [11]  508 	push	de
   02B3 E5            [11]  509 	push	hl
   02B4 CDr00r00      [17]  510 	call	__modsint
   02B7 F1            [10]  511 	pop	af
   02B8 F1            [10]  512 	pop	af
   02B9 C1            [10]  513 	pop	bc
   02BA 7D            [ 4]  514 	ld	a,l
   02BB C6 14         [ 7]  515 	add	a, #0x14
   02BD DD 77 FD      [19]  516 	ld	-3 (ix),a
   02C0 C5            [11]  517 	push	bc
   02C1 CDr00r00      [17]  518 	call	_rand
   02C4 11 14 00      [10]  519 	ld	de,#0x0014
   02C7 D5            [11]  520 	push	de
   02C8 E5            [11]  521 	push	hl
   02C9 CDr00r00      [17]  522 	call	__modsint
   02CC F1            [10]  523 	pop	af
   02CD F1            [10]  524 	pop	af
   02CE C1            [10]  525 	pop	bc
   02CF 7D            [ 4]  526 	ld	a,l
   02D0 C6 05         [ 7]  527 	add	a, #0x05
   02D2 57            [ 4]  528 	ld	d,a
   02D3 C5            [11]  529 	push	bc
   02D4 DD 66 FB      [19]  530 	ld	h,-5 (ix)
   02D7 DD 6E FD      [19]  531 	ld	l,-3 (ix)
   02DA E5            [11]  532 	push	hl
   02DB D5            [11]  533 	push	de
   02DC 33            [ 6]  534 	inc	sp
   02DD CDr00r00      [17]  535 	call	_create_explosion
   02E0 F1            [10]  536 	pop	af
   02E1 33            [ 6]  537 	inc	sp
   02E2 C1            [10]  538 	pop	bc
   02E3                     539 00120$:
                            540 ;src/entities/user.c:89: if (user.ax!=0){
   02E3 21r0Cr00      [10]  541 	ld	hl, #(_user + 0x000c) + 0
   02E6 56            [ 7]  542 	ld	d,(hl)
                            543 ;src/entities/user.c:90: if ((( user.vx >= 0 ) && (user.vx < user.topvx)) || ((user.vx <= 0 ) && (user.vx > -user.topvx))){
                            544 ;src/entities/user.c:89: if (user.ax!=0){
   02E7 7A            [ 4]  545 	ld	a,d
   02E8 B7            [ 4]  546 	or	a, a
   02E9 28 4C         [12]  547 	jr	Z,00127$
                            548 ;src/entities/user.c:90: if ((( user.vx >= 0 ) && (user.vx < user.topvx)) || ((user.vx <= 0 ) && (user.vx > -user.topvx))){
   02EB 21r08r00      [10]  549 	ld	hl, #(_user + 0x0008) + 0
   02EE 5E            [ 7]  550 	ld	e,(hl)
   02EF CB 7B         [ 8]  551 	bit	7, e
   02F1 20 0E         [12]  552 	jr	NZ,00125$
   02F3 21r0Ar00      [10]  553 	ld	hl, #(_user + 0x000a) + 0
   02F6 66            [ 7]  554 	ld	h,(hl)
   02F7 7B            [ 4]  555 	ld	a,e
   02F8 94            [ 4]  556 	sub	a, h
   02F9 E2rFEr02      [10]  557 	jp	PO, 00208$
   02FC EE 80         [ 7]  558 	xor	a, #0x80
   02FE                     559 00208$:
   02FE FAr32r03      [10]  560 	jp	M,00121$
   0301                     561 00125$:
   0301 AF            [ 4]  562 	xor	a, a
   0302 93            [ 4]  563 	sub	a, e
   0303 E2r08r03      [10]  564 	jp	PO, 00209$
   0306 EE 80         [ 7]  565 	xor	a, #0x80
   0308                     566 00209$:
   0308 FAr37r03      [10]  567 	jp	M,00127$
   030B 3Ar0Ar00      [13]  568 	ld	a, (#(_user + 0x000a) + 0)
   030E 6F            [ 4]  569 	ld	l,a
   030F 17            [ 4]  570 	rla
   0310 9F            [ 4]  571 	sbc	a, a
   0311 67            [ 4]  572 	ld	h,a
   0312 AF            [ 4]  573 	xor	a, a
   0313 95            [ 4]  574 	sub	a, l
   0314 DD 77 FB      [19]  575 	ld	-5 (ix),a
   0317 3E 00         [ 7]  576 	ld	a, #0x00
   0319 9C            [ 4]  577 	sbc	a, h
   031A DD 77 FC      [19]  578 	ld	-4 (ix),a
   031D 7B            [ 4]  579 	ld	a,e
   031E 67            [ 4]  580 	ld	h,a
   031F 17            [ 4]  581 	rla
   0320 9F            [ 4]  582 	sbc	a, a
   0321 6F            [ 4]  583 	ld	l,a
   0322 DD 7E FB      [19]  584 	ld	a,-5 (ix)
   0325 94            [ 4]  585 	sub	a, h
   0326 DD 7E FC      [19]  586 	ld	a,-4 (ix)
   0329 9D            [ 4]  587 	sbc	a, l
   032A E2r2Fr03      [10]  588 	jp	PO, 00210$
   032D EE 80         [ 7]  589 	xor	a, #0x80
   032F                     590 00210$:
   032F F2r37r03      [10]  591 	jp	P,00127$
   0332                     592 00121$:
                            593 ;src/entities/user.c:91: user.vx+=user.ax;
   0332 7B            [ 4]  594 	ld	a,e
   0333 82            [ 4]  595 	add	a, d
   0334 32r08r00      [13]  596 	ld	(#(_user + 0x0008)),a
   0337                     597 00127$:
                            598 ;src/entities/user.c:95: if (user.vx>0){
   0337 21r08r00      [10]  599 	ld	hl, #(_user + 0x0008) + 0
   033A 56            [ 7]  600 	ld	d,(hl)
   033B AF            [ 4]  601 	xor	a, a
   033C 92            [ 4]  602 	sub	a, d
   033D E2r42r03      [10]  603 	jp	PO, 00211$
   0340 EE 80         [ 7]  604 	xor	a, #0x80
   0342                     605 00211$:
   0342 F2r4Cr03      [10]  606 	jp	P,00131$
                            607 ;src/entities/user.c:96: user.vx--;
   0345 15            [ 4]  608 	dec	d
   0346 21r08r00      [10]  609 	ld	hl,#(_user + 0x0008)
   0349 72            [ 7]  610 	ld	(hl),d
   034A 18 09         [12]  611 	jr	00132$
   034C                     612 00131$:
                            613 ;src/entities/user.c:97: } else if (user.vx<0){
   034C CB 7A         [ 8]  614 	bit	7, d
   034E 28 05         [12]  615 	jr	Z,00132$
                            616 ;src/entities/user.c:98: user.vx++;
   0350 14            [ 4]  617 	inc	d
   0351 21r08r00      [10]  618 	ld	hl,#(_user + 0x0008)
   0354 72            [ 7]  619 	ld	(hl),d
   0355                     620 00132$:
                            621 ;src/entities/user.c:101: user.x+=user.vx;
   0355 21r06r00      [10]  622 	ld	hl, #(_user + 0x0006) + 0
   0358 56            [ 7]  623 	ld	d,(hl)
   0359 21r08r00      [10]  624 	ld	hl, #(_user + 0x0008) + 0
   035C 66            [ 7]  625 	ld	h,(hl)
   035D 7A            [ 4]  626 	ld	a,d
   035E 84            [ 4]  627 	add	a, h
   035F 57            [ 4]  628 	ld	d,a
   0360 21r06r00      [10]  629 	ld	hl,#(_user + 0x0006)
   0363 72            [ 7]  630 	ld	(hl),d
                            631 ;src/entities/user.c:103: if (user.x<0)
   0364 21r06r00      [10]  632 	ld	hl, #(_user + 0x0006) + 0
   0367 5E            [ 7]  633 	ld	e,(hl)
   0368 CB 7A         [ 8]  634 	bit	7, d
   036A 28 07         [12]  635 	jr	Z,00136$
                            636 ;src/entities/user.c:104: user.x=0;
   036C 21r06r00      [10]  637 	ld	hl,#(_user + 0x0006)
   036F 36 00         [10]  638 	ld	(hl),#0x00
   0371 18 25         [12]  639 	jr	00138$
   0373                     640 00136$:
                            641 ;src/entities/user.c:105: else if (user.x> 79-user.w){
   0373 21r0Er00      [10]  642 	ld	hl, #_user + 14
   0376 66            [ 7]  643 	ld	h,(hl)
   0377 4C            [ 4]  644 	ld	c,h
   0378 06 00         [ 7]  645 	ld	b,#0x00
   037A 3E 4F         [ 7]  646 	ld	a,#0x4F
   037C 91            [ 4]  647 	sub	a, c
   037D 4F            [ 4]  648 	ld	c,a
   037E 3E 00         [ 7]  649 	ld	a,#0x00
   0380 98            [ 4]  650 	sbc	a, b
   0381 47            [ 4]  651 	ld	b,a
   0382 7B            [ 4]  652 	ld	a,e
   0383 17            [ 4]  653 	rla
   0384 9F            [ 4]  654 	sbc	a, a
   0385 57            [ 4]  655 	ld	d,a
   0386 79            [ 4]  656 	ld	a,c
   0387 93            [ 4]  657 	sub	a, e
   0388 78            [ 4]  658 	ld	a,b
   0389 9A            [ 4]  659 	sbc	a, d
   038A E2r8Fr03      [10]  660 	jp	PO, 00212$
   038D EE 80         [ 7]  661 	xor	a, #0x80
   038F                     662 00212$:
   038F F2r98r03      [10]  663 	jp	P,00138$
                            664 ;src/entities/user.c:106: user.x = 79-user.w;
   0392 3E 4F         [ 7]  665 	ld	a,#0x4F
   0394 94            [ 4]  666 	sub	a, h
   0395 32r06r00      [13]  667 	ld	(#(_user + 0x0006)),a
   0398                     668 00138$:
   0398 DD F9         [10]  669 	ld	sp, ix
   039A DD E1         [14]  670 	pop	ix
   039C C9            [10]  671 	ret
                            672 ;src/entities/user.c:110: void draw_user(u8* screen){
                            673 ;	---------------------------------
                            674 ; Function draw_user
                            675 ; ---------------------------------
   039D                     676 _draw_user::
   039D DD E5         [15]  677 	push	ix
   039F DD 21 00 00   [14]  678 	ld	ix,#0
   03A3 DD 39         [15]  679 	add	ix,sp
                            680 ;src/entities/user.c:112: pscreen = cpct_getScreenPtr(screen, user.x, user.y);
   03A5 21r07r00      [10]  681 	ld	hl, #_user + 7
   03A8 4E            [ 7]  682 	ld	c,(hl)
   03A9 21r06r00      [10]  683 	ld	hl, #_user + 6
   03AC 66            [ 7]  684 	ld	h,(hl)
   03AD DD 5E 04      [19]  685 	ld	e,4 (ix)
   03B0 DD 56 05      [19]  686 	ld	d,5 (ix)
   03B3 79            [ 4]  687 	ld	a,c
   03B4 F5            [11]  688 	push	af
   03B5 33            [ 6]  689 	inc	sp
   03B6 E5            [11]  690 	push	hl
   03B7 33            [ 6]  691 	inc	sp
   03B8 D5            [11]  692 	push	de
   03B9 CDr00r00      [17]  693 	call	_cpct_getScreenPtr
   03BC F1            [10]  694 	pop	af
   03BD F1            [10]  695 	pop	af
   03BE EB            [ 4]  696 	ex	de,hl
                            697 ;src/entities/user.c:113: cpct_drawSprite( (u8*) user.sprite,pscreen,user.w,user.h);
   03BF 21r0Fr00      [10]  698 	ld	hl, #_user + 15
   03C2 4E            [ 7]  699 	ld	c,(hl)
   03C3 21r0Er00      [10]  700 	ld	hl, #_user + 14
   03C6 46            [ 7]  701 	ld	b,(hl)
   03C7 2Ar04r00      [16]  702 	ld	hl, (#_user + 4)
   03CA E5            [11]  703 	push	hl
   03CB FD E1         [14]  704 	pop	iy
   03CD 79            [ 4]  705 	ld	a,c
   03CE F5            [11]  706 	push	af
   03CF 33            [ 6]  707 	inc	sp
   03D0 C5            [11]  708 	push	bc
   03D1 33            [ 6]  709 	inc	sp
   03D2 D5            [11]  710 	push	de
   03D3 FD E5         [15]  711 	push	iy
   03D5 CDr00r00      [17]  712 	call	_cpct_drawSprite
   03D8 DD E1         [14]  713 	pop	ix
   03DA C9            [10]  714 	ret
                            715 	.area _CODE
                            716 	.area _INITIALIZER
                            717 	.area _CABS (ABS)
