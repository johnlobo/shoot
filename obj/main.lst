                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.4.3 #9207 (Jun  5 2015) (Mac OS X x86_64)
                              4 ; This file was generated Sun Jun 14 18:20:21 2015
                              5 ;--------------------------------------------------------
                              6 	.module main
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _main
                             13 	.globl _initialization
                             14 	.globl _updateUser
                             15 	.globl _drawFrame
                             16 	.globl _updateBlock
                             17 	.globl _clear_screen
                             18 	.globl _draw_blocks
                             19 	.globl _draw_sprite
                             20 	.globl _changeVideoMemoryPage
                             21 	.globl _moverEstrellas
                             22 	.globl _pintarEstrellas
                             23 	.globl _inicializarEstrellas
                             24 	.globl _cpct_getScreenPtr
                             25 	.globl _cpct_setVideoMemoryPage
                             26 	.globl _cpct_setPALColour
                             27 	.globl _cpct_setPalette
                             28 	.globl _cpct_waitVSYNC
                             29 	.globl _cpct_setVideoMode
                             30 	.globl _cpct_drawSolidBox
                             31 	.globl _cpct_drawSprite
                             32 	.globl _cpct_px2byteM0
                             33 	.globl _cpct_memset
                             34 	.globl _cpct_isKeyPressed
                             35 	.globl _cpct_scanKeyboard_f
                             36 	.globl _cpct_disableFirmware
                             37 	.globl _pvmem
                             38 	.globl _user
                             39 	.globl _block02
                             40 	.globl _block01
                             41 ;--------------------------------------------------------
                             42 ; special function registers
                             43 ;--------------------------------------------------------
                             44 ;--------------------------------------------------------
                             45 ; ram data
                             46 ;--------------------------------------------------------
                             47 	.area _DATA
   0000                      48 _block01::
   0000                      49 	.ds 7
   0007                      50 _block02::
   0007                      51 	.ds 7
   000E                      52 _user::
   000E                      53 	.ds 15
   001D                      54 _pvmem::
   001D                      55 	.ds 2
   001F                      56 _changeVideoMemoryPage_page_1_58:
   001F                      57 	.ds 1
                             58 ;--------------------------------------------------------
                             59 ; ram data
                             60 ;--------------------------------------------------------
                             61 	.area _INITIALIZED
                             62 ;--------------------------------------------------------
                             63 ; absolute external ram data
                             64 ;--------------------------------------------------------
                             65 	.area _DABS (ABS)
                             66 ;--------------------------------------------------------
                             67 ; global & static initialisations
                             68 ;--------------------------------------------------------
                             69 	.area _HOME
                             70 	.area _GSINIT
                             71 	.area _GSFINAL
                             72 	.area _GSINIT
                             73 ;src/main.c:54: static u8 page   = 0;   // Static value to remember the last page shown (0 = page 40, 1 = page C0)
   0000 FD 21r1Fr00   [14]   74 	ld	iy,#_changeVideoMemoryPage_page_1_58
   0004 FD 36 00 00   [19]   75 	ld	0 (iy),#0x00
                             76 ;--------------------------------------------------------
                             77 ; Home
                             78 ;--------------------------------------------------------
                             79 	.area _HOME
                             80 	.area _HOME
                             81 ;--------------------------------------------------------
                             82 ; code
                             83 ;--------------------------------------------------------
                             84 	.area _CODE
                             85 ;src/main.c:53: u8* changeVideoMemoryPage() {
                             86 ;	---------------------------------
                             87 ; Function changeVideoMemoryPage
                             88 ; ---------------------------------
   0000                      89 _changeVideoMemoryPage::
                             90 ;src/main.c:59: if (page) {
   0000 3Ar1Fr00      [13]   91 	ld	a,(#_changeVideoMemoryPage_page_1_58 + 0)
   0003 B7            [ 4]   92 	or	a, a
   0004 28 11         [12]   93 	jr	Z,00102$
                             94 ;src/main.c:60: cpct_setVideoMemoryPage(cpct_pageC0);  // Set video memory at banck 3 (0xC000 - 0xFFFF)
   0006 3E 30         [ 7]   95 	ld	a,#0x30
   0008 F5            [11]   96 	push	af
   0009 33            [ 6]   97 	inc	sp
   000A CDr00r00      [17]   98 	call	_cpct_setVideoMemoryPage
   000D 33            [ 6]   99 	inc	sp
                            100 ;src/main.c:61: page = 0;  
   000E 21r1Fr00      [10]  101 	ld	hl,#_changeVideoMemoryPage_page_1_58 + 0
   0011 36 00         [10]  102 	ld	(hl), #0x00
                            103 ;src/main.c:62: screen = SCR_BUFF;                            // Next page = 0
   0013 21 00 40      [10]  104 	ld	hl,#0x4000
   0016 C9            [10]  105 	ret
   0017                     106 00102$:
                            107 ;src/main.c:64: cpct_setVideoMemoryPage(cpct_page40);  // Set video memory at banck 1 (0x8000 - 0x7FFF)
   0017 3E 10         [ 7]  108 	ld	a,#0x10
   0019 F5            [11]  109 	push	af
   001A 33            [ 6]  110 	inc	sp
   001B CDr00r00      [17]  111 	call	_cpct_setVideoMemoryPage
   001E 33            [ 6]  112 	inc	sp
                            113 ;src/main.c:65: page = 1;                              // Next page = 1
   001F 21r1Fr00      [10]  114 	ld	hl,#_changeVideoMemoryPage_page_1_58 + 0
   0022 36 01         [10]  115 	ld	(hl), #0x01
                            116 ;src/main.c:66: screen = SCR_VMEM;
   0024 21 00 C0      [10]  117 	ld	hl,#0xC000
                            118 ;src/main.c:68: return screen;
   0027 C9            [10]  119 	ret
                            120 ;src/main.c:72: void draw_sprite(u8* screen){
                            121 ;	---------------------------------
                            122 ; Function draw_sprite
                            123 ; ---------------------------------
   0028                     124 _draw_sprite::
   0028 DD E5         [15]  125 	push	ix
   002A DD 21 00 00   [14]  126 	ld	ix,#0
   002E DD 39         [15]  127 	add	ix,sp
                            128 ;src/main.c:74: pscreen = cpct_getScreenPtr(screen, user.x, user.y);
   0030 21r13r00      [10]  129 	ld	hl, #_user + 5
   0033 4E            [ 7]  130 	ld	c,(hl)
   0034 21r12r00      [10]  131 	ld	hl, #_user + 4
   0037 66            [ 7]  132 	ld	h,(hl)
   0038 DD 5E 04      [19]  133 	ld	e,4 (ix)
   003B DD 56 05      [19]  134 	ld	d,5 (ix)
   003E 79            [ 4]  135 	ld	a,c
   003F F5            [11]  136 	push	af
   0040 33            [ 6]  137 	inc	sp
   0041 E5            [11]  138 	push	hl
   0042 33            [ 6]  139 	inc	sp
   0043 D5            [11]  140 	push	de
   0044 CDr00r00      [17]  141 	call	_cpct_getScreenPtr
   0047 F1            [10]  142 	pop	af
   0048 F1            [10]  143 	pop	af
   0049 EB            [ 4]  144 	ex	de,hl
                            145 ;src/main.c:75: cpct_drawSprite(ship01,pscreen,user.w,user.h);
   004A 21r15r00      [10]  146 	ld	hl, #_user + 7
   004D 4E            [ 7]  147 	ld	c,(hl)
   004E 21r14r00      [10]  148 	ld	hl, #_user + 6
   0051 46            [ 7]  149 	ld	b,(hl)
   0052 79            [ 4]  150 	ld	a,c
   0053 F5            [11]  151 	push	af
   0054 33            [ 6]  152 	inc	sp
   0055 C5            [11]  153 	push	bc
   0056 33            [ 6]  154 	inc	sp
   0057 D5            [11]  155 	push	de
   0058 21r00r00      [10]  156 	ld	hl,#_ship01
   005B E5            [11]  157 	push	hl
   005C CDr00r00      [17]  158 	call	_cpct_drawSprite
   005F 21 06 00      [10]  159 	ld	hl,#6
   0062 39            [11]  160 	add	hl,sp
   0063 F9            [ 6]  161 	ld	sp,hl
   0064 DD E1         [14]  162 	pop	ix
   0066 C9            [10]  163 	ret
                            164 ;src/main.c:79: void draw_blocks(u8* screen){
                            165 ;	---------------------------------
                            166 ; Function draw_blocks
                            167 ; ---------------------------------
   0067                     168 _draw_blocks::
   0067 DD E5         [15]  169 	push	ix
   0069 DD 21 00 00   [14]  170 	ld	ix,#0
   006D DD 39         [15]  171 	add	ix,sp
   006F F5            [11]  172 	push	af
   0070 3B            [ 6]  173 	dec	sp
                            174 ;src/main.c:82: pscreen = cpct_getScreenPtr(screen, block01.x, block01.y);
   0071 21r01r00      [10]  175 	ld	hl, #_block01 + 1
   0074 46            [ 7]  176 	ld	b,(hl)
   0075 21r00r00      [10]  177 	ld	hl, #_block01 + 0
   0078 56            [ 7]  178 	ld	d,(hl)
   0079 DD 7E 04      [19]  179 	ld	a,4 (ix)
   007C DD 77 FE      [19]  180 	ld	-2 (ix),a
   007F DD 7E 05      [19]  181 	ld	a,5 (ix)
   0082 DD 77 FF      [19]  182 	ld	-1 (ix),a
   0085 4A            [ 4]  183 	ld	c, d
   0086 C5            [11]  184 	push	bc
   0087 DD 6E FE      [19]  185 	ld	l,-2 (ix)
   008A DD 66 FF      [19]  186 	ld	h,-1 (ix)
   008D E5            [11]  187 	push	hl
   008E CDr00r00      [17]  188 	call	_cpct_getScreenPtr
   0091 F1            [10]  189 	pop	af
   0092 F1            [10]  190 	pop	af
   0093 5D            [ 4]  191 	ld	e, l
   0094 54            [ 4]  192 	ld	d, h
                            193 ;src/main.c:83: cpct_drawSolidBox(pscreen, cpct_px2byteM0(4, 4), block01.w, block01.h);
   0095 21r05r00      [10]  194 	ld	hl, #_block01 + 5
   0098 4E            [ 7]  195 	ld	c,(hl)
   0099 21r04r00      [10]  196 	ld	hl, #_block01 + 4
   009C 46            [ 7]  197 	ld	b,(hl)
   009D C5            [11]  198 	push	bc
   009E D5            [11]  199 	push	de
   009F 21 04 04      [10]  200 	ld	hl,#0x0404
   00A2 E5            [11]  201 	push	hl
   00A3 CDr00r00      [17]  202 	call	_cpct_px2byteM0
   00A6 F1            [10]  203 	pop	af
   00A7 DD 75 FD      [19]  204 	ld	-3 (ix),l
   00AA D1            [10]  205 	pop	de
   00AB C1            [10]  206 	pop	bc
   00AC 79            [ 4]  207 	ld	a,c
   00AD F5            [11]  208 	push	af
   00AE 33            [ 6]  209 	inc	sp
   00AF C5            [11]  210 	push	bc
   00B0 33            [ 6]  211 	inc	sp
   00B1 DD 7E FD      [19]  212 	ld	a,-3 (ix)
   00B4 F5            [11]  213 	push	af
   00B5 33            [ 6]  214 	inc	sp
   00B6 D5            [11]  215 	push	de
   00B7 CDr00r00      [17]  216 	call	_cpct_drawSolidBox
   00BA F1            [10]  217 	pop	af
   00BB F1            [10]  218 	pop	af
   00BC 33            [ 6]  219 	inc	sp
                            220 ;src/main.c:85: pscreen = cpct_getScreenPtr(screen, block02.x, block02.y);
   00BD 21r08r00      [10]  221 	ld	hl, #_block02 + 1
   00C0 56            [ 7]  222 	ld	d,(hl)
   00C1 3Ar07r00      [13]  223 	ld	a, (#_block02 + 0)
   00C4 D5            [11]  224 	push	de
   00C5 33            [ 6]  225 	inc	sp
   00C6 F5            [11]  226 	push	af
   00C7 33            [ 6]  227 	inc	sp
   00C8 DD 6E FE      [19]  228 	ld	l,-2 (ix)
   00CB DD 66 FF      [19]  229 	ld	h,-1 (ix)
   00CE E5            [11]  230 	push	hl
   00CF CDr00r00      [17]  231 	call	_cpct_getScreenPtr
   00D2 F1            [10]  232 	pop	af
   00D3 F1            [10]  233 	pop	af
   00D4 5D            [ 4]  234 	ld	e, l
   00D5 54            [ 4]  235 	ld	d, h
                            236 ;src/main.c:86: cpct_drawSolidBox(pscreen, cpct_px2byteM0(6, 6), block02.w, block02.h);    
   00D6 21r0Cr00      [10]  237 	ld	hl, #_block02 + 5
   00D9 4E            [ 7]  238 	ld	c,(hl)
   00DA 21r0Br00      [10]  239 	ld	hl, #_block02 + 4
   00DD 46            [ 7]  240 	ld	b,(hl)
   00DE C5            [11]  241 	push	bc
   00DF D5            [11]  242 	push	de
   00E0 21 06 06      [10]  243 	ld	hl,#0x0606
   00E3 E5            [11]  244 	push	hl
   00E4 CDr00r00      [17]  245 	call	_cpct_px2byteM0
   00E7 F1            [10]  246 	pop	af
   00E8 DD 75 FD      [19]  247 	ld	-3 (ix),l
   00EB D1            [10]  248 	pop	de
   00EC C1            [10]  249 	pop	bc
   00ED 79            [ 4]  250 	ld	a,c
   00EE F5            [11]  251 	push	af
   00EF 33            [ 6]  252 	inc	sp
   00F0 C5            [11]  253 	push	bc
   00F1 33            [ 6]  254 	inc	sp
   00F2 DD 7E FD      [19]  255 	ld	a,-3 (ix)
   00F5 F5            [11]  256 	push	af
   00F6 33            [ 6]  257 	inc	sp
   00F7 D5            [11]  258 	push	de
   00F8 CDr00r00      [17]  259 	call	_cpct_drawSolidBox
   00FB DD F9         [10]  260 	ld	sp,ix
   00FD DD E1         [14]  261 	pop	ix
   00FF C9            [10]  262 	ret
                            263 ;src/main.c:90: void clear_screen(u8* screen){
                            264 ;	---------------------------------
                            265 ; Function clear_screen
                            266 ; ---------------------------------
   0100                     267 _clear_screen::
                            268 ;src/main.c:91: cpct_memset(screen, 0x00, 0x4000);   
   0100 C1            [10]  269 	pop	bc
   0101 D1            [10]  270 	pop	de
   0102 D5            [11]  271 	push	de
   0103 C5            [11]  272 	push	bc
   0104 21 00 40      [10]  273 	ld	hl,#0x4000
   0107 E5            [11]  274 	push	hl
   0108 AF            [ 4]  275 	xor	a, a
   0109 F5            [11]  276 	push	af
   010A 33            [ 6]  277 	inc	sp
   010B D5            [11]  278 	push	de
   010C CDr00r00      [17]  279 	call	_cpct_memset
   010F F1            [10]  280 	pop	af
   0110 F1            [10]  281 	pop	af
   0111 33            [ 6]  282 	inc	sp
   0112 C9            [10]  283 	ret
                            284 ;src/main.c:95: void updateBlock(){
                            285 ;	---------------------------------
                            286 ; Function updateBlock
                            287 ; ---------------------------------
   0113                     288 _updateBlock::
                            289 ;src/main.c:96: if (block01.vx>0){
   0113 21r02r00      [10]  290 	ld	hl, #(_block01 + 0x0002) + 0
   0116 46            [ 7]  291 	ld	b,(hl)
                            292 ;src/main.c:97: if ((block01.x+block01.vx)<(79-block01.w)){
   0117 21r00r00      [10]  293 	ld	hl, #_block01 + 0
   011A 4E            [ 7]  294 	ld	c,(hl)
   011B 68            [ 4]  295 	ld	l,b
   011C 26 00         [ 7]  296 	ld	h,#0x00
   011E 59            [ 4]  297 	ld	e,c
   011F 16 00         [ 7]  298 	ld	d,#0x00
                            299 ;src/main.c:98: block01.x = block01.x + block01.vx;
   0121 79            [ 4]  300 	ld	a,c
   0122 80            [ 4]  301 	add	a, b
   0123 4F            [ 4]  302 	ld	c,a
                            303 ;src/main.c:97: if ((block01.x+block01.vx)<(79-block01.w)){
   0124 19            [11]  304 	add	hl,de
   0125 5D            [ 4]  305 	ld	e,l
   0126 54            [ 4]  306 	ld	d,h
                            307 ;src/main.c:96: if (block01.vx>0){
   0127 78            [ 4]  308 	ld	a,b
   0128 B7            [ 4]  309 	or	a, a
   0129 28 33         [12]  310 	jr	Z,00108$
                            311 ;src/main.c:97: if ((block01.x+block01.vx)<(79-block01.w)){
   012B 21r04r00      [10]  312 	ld	hl, #_block01 + 4
   012E 66            [ 7]  313 	ld	h,(hl)
   012F 6C            [ 4]  314 	ld	l,h
   0130 06 00         [ 7]  315 	ld	b,#0x00
   0132 3E 4F         [ 7]  316 	ld	a,#0x4F
   0134 95            [ 4]  317 	sub	a, l
   0135 6F            [ 4]  318 	ld	l,a
   0136 3E 00         [ 7]  319 	ld	a,#0x00
   0138 98            [ 4]  320 	sbc	a, b
   0139 47            [ 4]  321 	ld	b,a
   013A 7B            [ 4]  322 	ld	a,e
   013B 95            [ 4]  323 	sub	a, l
   013C 7A            [ 4]  324 	ld	a,d
   013D 98            [ 4]  325 	sbc	a, b
   013E E2r43r01      [10]  326 	jp	PO, 00124$
   0141 EE 80         [ 7]  327 	xor	a, #0x80
   0143                     328 00124$:
   0143 F2r4Br01      [10]  329 	jp	P,00102$
                            330 ;src/main.c:98: block01.x = block01.x + block01.vx;
   0146 21r00r00      [10]  331 	ld	hl,#_block01
   0149 71            [ 7]  332 	ld	(hl),c
   014A C9            [10]  333 	ret
   014B                     334 00102$:
                            335 ;src/main.c:101: block01.x = 79-block01.w;
   014B 3E 4F         [ 7]  336 	ld	a,#0x4F
   014D 94            [ 4]  337 	sub	a, h
   014E 21r00r00      [10]  338 	ld	hl,#_block01
   0151 77            [ 7]  339 	ld	(hl),a
                            340 ;src/main.c:102: block01.vx = - block01.vx;
   0152 21r02r00      [10]  341 	ld	hl, #(_block01 + 0x0002) + 0
   0155 66            [ 7]  342 	ld	h,(hl)
   0156 AF            [ 4]  343 	xor	a, a
   0157 94            [ 4]  344 	sub	a, h
   0158 57            [ 4]  345 	ld	d,a
   0159 21r02r00      [10]  346 	ld	hl,#(_block01 + 0x0002)
   015C 72            [ 7]  347 	ld	(hl),d
   015D C9            [10]  348 	ret
   015E                     349 00108$:
                            350 ;src/main.c:105: if ((block01.x+block01.vx)>0){
   015E AF            [ 4]  351 	xor	a, a
   015F BB            [ 4]  352 	cp	a, e
   0160 9A            [ 4]  353 	sbc	a, d
   0161 E2r66r01      [10]  354 	jp	PO, 00125$
   0164 EE 80         [ 7]  355 	xor	a, #0x80
   0166                     356 00125$:
   0166 F2r6Er01      [10]  357 	jp	P,00105$
                            358 ;src/main.c:106: block01.x = block01.x + block01.vx;
   0169 21r00r00      [10]  359 	ld	hl,#_block01
   016C 71            [ 7]  360 	ld	(hl),c
   016D C9            [10]  361 	ret
   016E                     362 00105$:
                            363 ;src/main.c:109: block01.x = 0;
   016E 21r00r00      [10]  364 	ld	hl,#_block01
   0171 36 00         [10]  365 	ld	(hl),#0x00
                            366 ;src/main.c:110: block01.vx = - block01.vx;
   0173 21r02r00      [10]  367 	ld	hl, #(_block01 + 0x0002) + 0
   0176 66            [ 7]  368 	ld	h,(hl)
   0177 AF            [ 4]  369 	xor	a, a
   0178 94            [ 4]  370 	sub	a, h
   0179 57            [ 4]  371 	ld	d,a
   017A 21r02r00      [10]  372 	ld	hl,#(_block01 + 0x0002)
   017D 72            [ 7]  373 	ld	(hl),d
   017E C9            [10]  374 	ret
                            375 ;src/main.c:118: void drawFrame(u8* screen) {
                            376 ;	---------------------------------
                            377 ; Function drawFrame
                            378 ; ---------------------------------
   017F                     379 _drawFrame::
   017F DD E5         [15]  380 	push	ix
   0181 DD 21 00 00   [14]  381 	ld	ix,#0
   0185 DD 39         [15]  382 	add	ix,sp
                            383 ;src/main.c:123: pattern = cpct_px2byteM0 (15, 15);
   0187 21 0F 0F      [10]  384 	ld	hl,#0x0F0F
   018A E5            [11]  385 	push	hl
   018B CDr00r00      [17]  386 	call	_cpct_px2byteM0
   018E F1            [10]  387 	pop	af
   018F 45            [ 4]  388 	ld	b,l
                            389 ;src/main.c:126: pv = cpct_getScreenPtr(screen, (BACK_X),  (BACK_Y));
   0190 DD 5E 04      [19]  390 	ld	e,4 (ix)
   0193 DD 56 05      [19]  391 	ld	d,5 (ix)
   0196 C5            [11]  392 	push	bc
   0197 D5            [11]  393 	push	de
   0198 21 00 00      [10]  394 	ld	hl,#0x0000
   019B E5            [11]  395 	push	hl
   019C D5            [11]  396 	push	de
   019D CDr00r00      [17]  397 	call	_cpct_getScreenPtr
   01A0 F1            [10]  398 	pop	af
   01A1 F1            [10]  399 	pop	af
   01A2 D1            [10]  400 	pop	de
   01A3 C1            [10]  401 	pop	bc
                            402 ;src/main.c:127: cpct_drawSolidBox(pv, pattern, BACK_W,  4);
   01A4 E5            [11]  403 	push	hl
   01A5 FD E1         [14]  404 	pop	iy
   01A7 C5            [11]  405 	push	bc
   01A8 D5            [11]  406 	push	de
   01A9 21 40 04      [10]  407 	ld	hl,#0x0440
   01AC E5            [11]  408 	push	hl
   01AD C5            [11]  409 	push	bc
   01AE 33            [ 6]  410 	inc	sp
   01AF FD E5         [15]  411 	push	iy
   01B1 CDr00r00      [17]  412 	call	_cpct_drawSolidBox
   01B4 F1            [10]  413 	pop	af
   01B5 F1            [10]  414 	pop	af
   01B6 33            [ 6]  415 	inc	sp
   01B7 D1            [10]  416 	pop	de
   01B8 D5            [11]  417 	push	de
   01B9 21 00 C5      [10]  418 	ld	hl,#0xC500
   01BC E5            [11]  419 	push	hl
   01BD D5            [11]  420 	push	de
   01BE CDr00r00      [17]  421 	call	_cpct_getScreenPtr
   01C1 F1            [10]  422 	pop	af
   01C2 F1            [10]  423 	pop	af
   01C3 D1            [10]  424 	pop	de
   01C4 C1            [10]  425 	pop	bc
                            426 ;src/main.c:131: cpct_drawSolidBox(pv, pattern, BACK_W,  4);
   01C5 E5            [11]  427 	push	hl
   01C6 FD E1         [14]  428 	pop	iy
   01C8 C5            [11]  429 	push	bc
   01C9 D5            [11]  430 	push	de
   01CA 21 40 04      [10]  431 	ld	hl,#0x0440
   01CD E5            [11]  432 	push	hl
   01CE C5            [11]  433 	push	bc
   01CF 33            [ 6]  434 	inc	sp
   01D0 FD E5         [15]  435 	push	iy
   01D2 CDr00r00      [17]  436 	call	_cpct_drawSolidBox
   01D5 F1            [10]  437 	pop	af
   01D6 F1            [10]  438 	pop	af
   01D7 33            [ 6]  439 	inc	sp
   01D8 D1            [10]  440 	pop	de
   01D9 D5            [11]  441 	push	de
   01DA 21 00 00      [10]  442 	ld	hl,#0x0000
   01DD E5            [11]  443 	push	hl
   01DE D5            [11]  444 	push	de
   01DF CDr00r00      [17]  445 	call	_cpct_getScreenPtr
   01E2 F1            [10]  446 	pop	af
   01E3 F1            [10]  447 	pop	af
   01E4 D1            [10]  448 	pop	de
   01E5 C1            [10]  449 	pop	bc
                            450 ;src/main.c:135: cpct_drawSolidBox(pv, pattern,  2, BACK_H );
   01E6 E5            [11]  451 	push	hl
   01E7 FD E1         [14]  452 	pop	iy
   01E9 C5            [11]  453 	push	bc
   01EA D5            [11]  454 	push	de
   01EB 21 02 C7      [10]  455 	ld	hl,#0xC702
   01EE E5            [11]  456 	push	hl
   01EF C5            [11]  457 	push	bc
   01F0 33            [ 6]  458 	inc	sp
   01F1 FD E5         [15]  459 	push	iy
   01F3 CDr00r00      [17]  460 	call	_cpct_drawSolidBox
   01F6 F1            [10]  461 	pop	af
   01F7 F1            [10]  462 	pop	af
   01F8 33            [ 6]  463 	inc	sp
   01F9 D1            [10]  464 	pop	de
   01FA 21 3E 00      [10]  465 	ld	hl,#0x003E
   01FD E5            [11]  466 	push	hl
   01FE D5            [11]  467 	push	de
   01FF CDr00r00      [17]  468 	call	_cpct_getScreenPtr
   0202 F1            [10]  469 	pop	af
   0203 F1            [10]  470 	pop	af
   0204 C1            [10]  471 	pop	bc
                            472 ;src/main.c:139: cpct_drawSolidBox(pv, pattern,  2, BACK_H );
   0205 EB            [ 4]  473 	ex	de,hl
   0206 21 02 C7      [10]  474 	ld	hl,#0xC702
   0209 E5            [11]  475 	push	hl
   020A C5            [11]  476 	push	bc
   020B 33            [ 6]  477 	inc	sp
   020C D5            [11]  478 	push	de
   020D CDr00r00      [17]  479 	call	_cpct_drawSolidBox
   0210 F1            [10]  480 	pop	af
   0211 F1            [10]  481 	pop	af
   0212 33            [ 6]  482 	inc	sp
   0213 DD E1         [14]  483 	pop	ix
   0215 C9            [10]  484 	ret
                            485 ;src/main.c:145: void updateUser() {
                            486 ;	---------------------------------
                            487 ; Function updateUser
                            488 ; ---------------------------------
   0216                     489 _updateUser::
   0216 DD E5         [15]  490 	push	ix
   0218 DD 21 00 00   [14]  491 	ld	ix,#0
   021C DD 39         [15]  492 	add	ix,sp
   021E 3B            [ 6]  493 	dec	sp
                            494 ;src/main.c:147: cpct_scanKeyboard_f();
   021F CDr00r00      [17]  495 	call	_cpct_scanKeyboard_f
                            496 ;src/main.c:154: if ((cpct_isKeyPressed(Key_CursorUp))){ 
   0222 21 00 01      [10]  497 	ld	hl,#0x0100
   0225 E5            [11]  498 	push	hl
   0226 CDr00r00      [17]  499 	call	_cpct_isKeyPressed
   0229 F1            [10]  500 	pop	af
   022A 7D            [ 4]  501 	ld	a,l
   022B B7            [ 4]  502 	or	a, a
   022C 28 2D         [12]  503 	jr	Z,00105$
                            504 ;src/main.c:155: if ((user.y-user.vy)>0)
   022E 21r13r00      [10]  505 	ld	hl, #(_user + 0x0005) + 0
   0231 5E            [ 7]  506 	ld	e,(hl)
   0232 4B            [ 4]  507 	ld	c,e
   0233 06 00         [ 7]  508 	ld	b,#0x00
   0235 21r1Br00      [10]  509 	ld	hl, #_user + 13
   0238 56            [ 7]  510 	ld	d,(hl)
   0239 7A            [ 4]  511 	ld	a,d
   023A 6F            [ 4]  512 	ld	l,a
   023B 17            [ 4]  513 	rla
   023C 9F            [ 4]  514 	sbc	a, a
   023D 67            [ 4]  515 	ld	h,a
   023E 79            [ 4]  516 	ld	a,c
   023F 95            [ 4]  517 	sub	a, l
   0240 6F            [ 4]  518 	ld	l,a
   0241 78            [ 4]  519 	ld	a,b
   0242 9C            [ 4]  520 	sbc	a, h
   0243 67            [ 4]  521 	ld	h,a
   0244 AF            [ 4]  522 	xor	a, a
   0245 BD            [ 4]  523 	cp	a, l
   0246 9C            [ 4]  524 	sbc	a, h
   0247 E2r4Cr02      [10]  525 	jp	PO, 00155$
   024A EE 80         [ 7]  526 	xor	a, #0x80
   024C                     527 00155$:
   024C F2r56r02      [10]  528 	jp	P,00102$
                            529 ;src/main.c:156: user.y = user.y - user.vy;
   024F 7B            [ 4]  530 	ld	a,e
   0250 92            [ 4]  531 	sub	a, d
   0251 32r13r00      [13]  532 	ld	(#(_user + 0x0005)),a
   0254 18 05         [12]  533 	jr	00105$
   0256                     534 00102$:
                            535 ;src/main.c:158: user.y = 0;
   0256 21r13r00      [10]  536 	ld	hl,#(_user + 0x0005)
   0259 36 00         [10]  537 	ld	(hl),#0x00
   025B                     538 00105$:
                            539 ;src/main.c:161: if ((cpct_isKeyPressed(Key_CursorRight))){ 
   025B 21 00 02      [10]  540 	ld	hl,#0x0200
   025E E5            [11]  541 	push	hl
   025F CDr00r00      [17]  542 	call	_cpct_isKeyPressed
   0262 F1            [10]  543 	pop	af
   0263 7D            [ 4]  544 	ld	a,l
   0264 B7            [ 4]  545 	or	a, a
   0265 28 3F         [12]  546 	jr	Z,00110$
                            547 ;src/main.c:162: if ((user.x+user.vx<(79-user.w)))
   0267 21r12r00      [10]  548 	ld	hl, #(_user + 0x0004) + 0
   026A 5E            [ 7]  549 	ld	e,(hl)
   026B 4B            [ 4]  550 	ld	c,e
   026C 06 00         [ 7]  551 	ld	b,#0x00
   026E 21r1Ar00      [10]  552 	ld	hl, #_user + 12
   0271 56            [ 7]  553 	ld	d,(hl)
   0272 7A            [ 4]  554 	ld	a,d
   0273 6F            [ 4]  555 	ld	l,a
   0274 17            [ 4]  556 	rla
   0275 9F            [ 4]  557 	sbc	a, a
   0276 67            [ 4]  558 	ld	h,a
   0277 09            [11]  559 	add	hl,bc
   0278 4D            [ 4]  560 	ld	c,l
   0279 44            [ 4]  561 	ld	b,h
   027A 3Ar14r00      [13]  562 	ld	a,(#_user + 6)
   027D DD 77 FF      [19]  563 	ld	-1 (ix), a
   0280 6F            [ 4]  564 	ld	l, a
   0281 26 00         [ 7]  565 	ld	h,#0x00
   0283 3E 4F         [ 7]  566 	ld	a,#0x4F
   0285 95            [ 4]  567 	sub	a, l
   0286 6F            [ 4]  568 	ld	l,a
   0287 3E 00         [ 7]  569 	ld	a,#0x00
   0289 9C            [ 4]  570 	sbc	a, h
   028A 67            [ 4]  571 	ld	h,a
   028B 79            [ 4]  572 	ld	a,c
   028C 95            [ 4]  573 	sub	a, l
   028D 78            [ 4]  574 	ld	a,b
   028E 9C            [ 4]  575 	sbc	a, h
   028F E2r94r02      [10]  576 	jp	PO, 00156$
   0292 EE 80         [ 7]  577 	xor	a, #0x80
   0294                     578 00156$:
   0294 F2r9Er02      [10]  579 	jp	P,00107$
                            580 ;src/main.c:163: user.x = user.x + user.vx;
   0297 7B            [ 4]  581 	ld	a,e
   0298 82            [ 4]  582 	add	a, d
   0299 32r12r00      [13]  583 	ld	(#(_user + 0x0004)),a
   029C 18 08         [12]  584 	jr	00110$
   029E                     585 00107$:
                            586 ;src/main.c:165: user.x = 79-user.w;
   029E 3E 4F         [ 7]  587 	ld	a,#0x4F
   02A0 DD 96 FF      [19]  588 	sub	a, -1 (ix)
   02A3 32r12r00      [13]  589 	ld	(#(_user + 0x0004)),a
   02A6                     590 00110$:
                            591 ;src/main.c:168: if (cpct_isKeyPressed(Key_CursorLeft)){
   02A6 21 01 01      [10]  592 	ld	hl,#0x0101
   02A9 E5            [11]  593 	push	hl
   02AA CDr00r00      [17]  594 	call	_cpct_isKeyPressed
   02AD F1            [10]  595 	pop	af
   02AE 7D            [ 4]  596 	ld	a,l
   02AF B7            [ 4]  597 	or	a, a
   02B0 28 2D         [12]  598 	jr	Z,00115$
                            599 ;src/main.c:169: if ((user.x-user.vx)>0) 
   02B2 21r12r00      [10]  600 	ld	hl, #(_user + 0x0004) + 0
   02B5 5E            [ 7]  601 	ld	e,(hl)
   02B6 4B            [ 4]  602 	ld	c,e
   02B7 06 00         [ 7]  603 	ld	b,#0x00
   02B9 21r1Ar00      [10]  604 	ld	hl, #_user + 12
   02BC 56            [ 7]  605 	ld	d,(hl)
   02BD 7A            [ 4]  606 	ld	a,d
   02BE 6F            [ 4]  607 	ld	l,a
   02BF 17            [ 4]  608 	rla
   02C0 9F            [ 4]  609 	sbc	a, a
   02C1 67            [ 4]  610 	ld	h,a
   02C2 79            [ 4]  611 	ld	a,c
   02C3 95            [ 4]  612 	sub	a, l
   02C4 6F            [ 4]  613 	ld	l,a
   02C5 78            [ 4]  614 	ld	a,b
   02C6 9C            [ 4]  615 	sbc	a, h
   02C7 67            [ 4]  616 	ld	h,a
   02C8 AF            [ 4]  617 	xor	a, a
   02C9 BD            [ 4]  618 	cp	a, l
   02CA 9C            [ 4]  619 	sbc	a, h
   02CB E2rD0r02      [10]  620 	jp	PO, 00157$
   02CE EE 80         [ 7]  621 	xor	a, #0x80
   02D0                     622 00157$:
   02D0 F2rDAr02      [10]  623 	jp	P,00112$
                            624 ;src/main.c:170: user.x = user.x - user.vx;    
   02D3 7B            [ 4]  625 	ld	a,e
   02D4 92            [ 4]  626 	sub	a, d
   02D5 32r12r00      [13]  627 	ld	(#(_user + 0x0004)),a
   02D8 18 05         [12]  628 	jr	00115$
   02DA                     629 00112$:
                            630 ;src/main.c:172: user.x = 0;
   02DA 21r12r00      [10]  631 	ld	hl,#(_user + 0x0004)
   02DD 36 00         [10]  632 	ld	(hl),#0x00
   02DF                     633 00115$:
                            634 ;src/main.c:175: if (cpct_isKeyPressed(Key_CursorDown)){
   02DF 21 00 04      [10]  635 	ld	hl,#0x0400
   02E2 E5            [11]  636 	push	hl
   02E3 CDr00r00      [17]  637 	call	_cpct_isKeyPressed
   02E6 F1            [10]  638 	pop	af
   02E7 7D            [ 4]  639 	ld	a,l
   02E8 B7            [ 4]  640 	or	a, a
   02E9 28 37         [12]  641 	jr	Z,00121$
                            642 ;src/main.c:176: if ((user.y<(199-user.h) ))
   02EB 21r13r00      [10]  643 	ld	hl, #(_user + 0x0005) + 0
   02EE 5E            [ 7]  644 	ld	e,(hl)
   02EF 3Ar15r00      [13]  645 	ld	a,(#_user + 7)
   02F2 DD 77 FF      [19]  646 	ld	-1 (ix), a
   02F5 6F            [ 4]  647 	ld	l, a
   02F6 26 00         [ 7]  648 	ld	h,#0x00
   02F8 3E C7         [ 7]  649 	ld	a,#0xC7
   02FA 95            [ 4]  650 	sub	a, l
   02FB 6F            [ 4]  651 	ld	l,a
   02FC 3E 00         [ 7]  652 	ld	a,#0x00
   02FE 9C            [ 4]  653 	sbc	a, h
   02FF 67            [ 4]  654 	ld	h,a
   0300 4B            [ 4]  655 	ld	c,e
   0301 16 00         [ 7]  656 	ld	d,#0x00
   0303 79            [ 4]  657 	ld	a,c
   0304 95            [ 4]  658 	sub	a, l
   0305 7A            [ 4]  659 	ld	a,d
   0306 9C            [ 4]  660 	sbc	a, h
   0307 E2r0Cr03      [10]  661 	jp	PO, 00158$
   030A EE 80         [ 7]  662 	xor	a, #0x80
   030C                     663 00158$:
   030C F2r1Ar03      [10]  664 	jp	P,00117$
                            665 ;src/main.c:177: user.y = user.y + user.vy;
   030F 21r1Br00      [10]  666 	ld	hl, #_user + 13
   0312 6E            [ 7]  667 	ld	l,(hl)
   0313 7B            [ 4]  668 	ld	a,e
   0314 85            [ 4]  669 	add	a, l
   0315 32r13r00      [13]  670 	ld	(#(_user + 0x0005)),a
   0318 18 08         [12]  671 	jr	00121$
   031A                     672 00117$:
                            673 ;src/main.c:179: user.y = 199-user.h;
   031A 3E C7         [ 7]  674 	ld	a,#0xC7
   031C DD 96 FF      [19]  675 	sub	a, -1 (ix)
   031F 32r13r00      [13]  676 	ld	(#(_user + 0x0005)),a
   0322                     677 00121$:
   0322 33            [ 6]  678 	inc	sp
   0323 DD E1         [14]  679 	pop	ix
   0325 C9            [10]  680 	ret
                            681 ;src/main.c:184: void initialization(){
                            682 ;	---------------------------------
                            683 ; Function initialization
                            684 ; ---------------------------------
   0326                     685 _initialization::
                            686 ;src/main.c:186: pvmem = SCR_BUFF;
   0326 21 00 40      [10]  687 	ld	hl,#0x4000
   0329 22r1Dr00      [16]  688 	ld	(_pvmem),hl
                            689 ;src/main.c:189: inicializarEstrellas();
   032C CDr00r00      [17]  690 	call	_inicializarEstrellas
                            691 ;src/main.c:191: block01.x = 10;
   032F 21r00r00      [10]  692 	ld	hl,#_block01+0
   0332 36 0A         [10]  693 	ld	(hl),#0x0A
                            694 ;src/main.c:192: block01.y = 10;
   0334 21r01r00      [10]  695 	ld	hl,#_block01 + 1
   0337 36 0A         [10]  696 	ld	(hl),#0x0A
                            697 ;src/main.c:193: block01.vx = 2;
   0339 21r02r00      [10]  698 	ld	hl,#_block01 + 2
   033C 36 02         [10]  699 	ld	(hl),#0x02
                            700 ;src/main.c:194: block01.vy = 0;
   033E 21r03r00      [10]  701 	ld	hl,#_block01 + 3
   0341 36 00         [10]  702 	ld	(hl),#0x00
                            703 ;src/main.c:195: block01.w = 20;
   0343 21r04r00      [10]  704 	ld	hl,#_block01 + 4
   0346 36 14         [10]  705 	ld	(hl),#0x14
                            706 ;src/main.c:196: block01.h = 40;
   0348 21r05r00      [10]  707 	ld	hl,#_block01 + 5
   034B 36 28         [10]  708 	ld	(hl),#0x28
                            709 ;src/main.c:198: block02.x = 15;
   034D 21r07r00      [10]  710 	ld	hl,#_block02+0
   0350 36 0F         [10]  711 	ld	(hl),#0x0F
                            712 ;src/main.c:199: block02.y = 15;
   0352 21r08r00      [10]  713 	ld	hl,#_block02 + 1
   0355 36 0F         [10]  714 	ld	(hl),#0x0F
                            715 ;src/main.c:200: block02.vx = 4;
   0357 21r09r00      [10]  716 	ld	hl,#_block02 + 2
   035A 36 04         [10]  717 	ld	(hl),#0x04
                            718 ;src/main.c:201: block02.vy = 0;
   035C 21r0Ar00      [10]  719 	ld	hl,#_block02 + 3
   035F 36 00         [10]  720 	ld	(hl),#0x00
                            721 ;src/main.c:202: block02.w = 25;
   0361 21r0Br00      [10]  722 	ld	hl,#_block02 + 4
   0364 36 19         [10]  723 	ld	(hl),#0x19
                            724 ;src/main.c:203: block02.h = 20;
   0366 21r0Cr00      [10]  725 	ld	hl,#_block02 + 5
   0369 36 14         [10]  726 	ld	(hl),#0x14
                            727 ;src/main.c:205: user.x = 39;
   036B 21r12r00      [10]  728 	ld	hl,#_user + 4
   036E 36 27         [10]  729 	ld	(hl),#0x27
                            730 ;src/main.c:206: user.y = 183;
   0370 21r13r00      [10]  731 	ld	hl,#_user + 5
   0373 36 B7         [10]  732 	ld	(hl),#0xB7
                            733 ;src/main.c:207: user.w = 6;
   0375 21r14r00      [10]  734 	ld	hl,#_user + 6
   0378 36 06         [10]  735 	ld	(hl),#0x06
                            736 ;src/main.c:208: user.h = 16;
   037A 21r15r00      [10]  737 	ld	hl,#_user + 7
   037D 36 10         [10]  738 	ld	(hl),#0x10
                            739 ;src/main.c:209: user.vx = 2;
   037F 21r1Ar00      [10]  740 	ld	hl,#_user + 12
   0382 36 02         [10]  741 	ld	(hl),#0x02
                            742 ;src/main.c:210: user.vy = 4;
   0384 21r1Br00      [10]  743 	ld	hl,#_user + 13
   0387 36 04         [10]  744 	ld	(hl),#0x04
   0389 C9            [10]  745 	ret
                            746 ;src/main.c:214: void main(void) {
                            747 ;	---------------------------------
                            748 ; Function main
                            749 ; ---------------------------------
   038A                     750 _main::
                            751 ;src/main.c:216: cpct_disableFirmware();             // Disable firmware to prevent it from interfering
   038A CDr00r00      [17]  752 	call	_cpct_disableFirmware
                            753 ;src/main.c:218: cpct_setPalette  (G_palette, 16);   // Set up palette using hardware colours
   038D 11r00r00      [10]  754 	ld	de,#_G_palette
   0390 3E 10         [ 7]  755 	ld	a,#0x10
   0392 F5            [11]  756 	push	af
   0393 33            [ 6]  757 	inc	sp
   0394 D5            [11]  758 	push	de
   0395 CDr00r00      [17]  759 	call	_cpct_setPalette
   0398 F1            [10]  760 	pop	af
   0399 33            [ 6]  761 	inc	sp
                            762 ;src/main.c:219: cpct_setBorder   (G_palette[1]);    // Set up the border to the background colour (white)
   039A 3Ar01r00      [13]  763 	ld	a, (#_G_palette + 1)
   039D 57            [ 4]  764 	ld	d,a
   039E 1E 10         [ 7]  765 	ld	e,#0x10
   03A0 D5            [11]  766 	push	de
   03A1 CDr00r00      [17]  767 	call	_cpct_setPALColour
   03A4 F1            [10]  768 	pop	af
                            769 ;src/main.c:220: cpct_setVideoMode(0);               // Change to Mode 0 (160x200, 16 colours)
   03A5 AF            [ 4]  770 	xor	a, a
   03A6 F5            [11]  771 	push	af
   03A7 33            [ 6]  772 	inc	sp
   03A8 CDr00r00      [17]  773 	call	_cpct_setVideoMode
   03AB 33            [ 6]  774 	inc	sp
                            775 ;src/main.c:223: cpct_memset(SCR_VMEM, 0x00, 0x4000);
   03AC 21 00 40      [10]  776 	ld	hl,#0x4000
   03AF E5            [11]  777 	push	hl
   03B0 AF            [ 4]  778 	xor	a, a
   03B1 F5            [11]  779 	push	af
   03B2 33            [ 6]  780 	inc	sp
   03B3 26 C0         [ 7]  781 	ld	h, #0xC0
   03B5 E5            [11]  782 	push	hl
   03B6 CDr00r00      [17]  783 	call	_cpct_memset
   03B9 F1            [10]  784 	pop	af
   03BA F1            [10]  785 	pop	af
   03BB 33            [ 6]  786 	inc	sp
                            787 ;src/main.c:224: cpct_memset(SCR_BUFF, 0x00, 0x4000);
   03BC 21 00 40      [10]  788 	ld	hl,#0x4000
   03BF E5            [11]  789 	push	hl
   03C0 AF            [ 4]  790 	xor	a, a
   03C1 F5            [11]  791 	push	af
   03C2 33            [ 6]  792 	inc	sp
   03C3 2E 00         [ 7]  793 	ld	l, #0x00
   03C5 E5            [11]  794 	push	hl
   03C6 CDr00r00      [17]  795 	call	_cpct_memset
   03C9 F1            [10]  796 	pop	af
   03CA F1            [10]  797 	pop	af
   03CB 33            [ 6]  798 	inc	sp
                            799 ;src/main.c:226: initialization(); 
   03CC CDr26r03      [17]  800 	call	_initialization
                            801 ;src/main.c:229: while (1){
   03CF                     802 00104$:
                            803 ;src/main.c:231: clear_screen(pvmem);
   03CF 2Ar1Dr00      [16]  804 	ld	hl,(_pvmem)
   03D2 E5            [11]  805 	push	hl
   03D3 CDr00r01      [17]  806 	call	_clear_screen
   03D6 F1            [10]  807 	pop	af
                            808 ;src/main.c:233: updateUser();
   03D7 CDr16r02      [17]  809 	call	_updateUser
                            810 ;src/main.c:234: updateBlock();
   03DA CDr13r01      [17]  811 	call	_updateBlock
                            812 ;src/main.c:236: moverEstrellas();
   03DD CDr00r00      [17]  813 	call	_moverEstrellas
                            814 ;src/main.c:237: pintarEstrellas(pvmem);
   03E0 2Ar1Dr00      [16]  815 	ld	hl,(_pvmem)
   03E3 E5            [11]  816 	push	hl
   03E4 CDr00r00      [17]  817 	call	_pintarEstrellas
   03E7 F1            [10]  818 	pop	af
                            819 ;src/main.c:240: draw_blocks(pvmem);
   03E8 2Ar1Dr00      [16]  820 	ld	hl,(_pvmem)
   03EB E5            [11]  821 	push	hl
   03EC CDr67r00      [17]  822 	call	_draw_blocks
   03EF F1            [10]  823 	pop	af
                            824 ;src/main.c:243: draw_sprite(pvmem);
   03F0 2Ar1Dr00      [16]  825 	ld	hl,(_pvmem)
   03F3 E5            [11]  826 	push	hl
   03F4 CDr28r00      [17]  827 	call	_draw_sprite
   03F7 F1            [10]  828 	pop	af
                            829 ;src/main.c:246: pvmem = changeVideoMemoryPage();
   03F8 CDr00r00      [17]  830 	call	_changeVideoMemoryPage
   03FB 22r1Dr00      [16]  831 	ld	(_pvmem),hl
                            832 ;src/main.c:249: cpct_waitVSYNC();
   03FE CDr00r00      [17]  833 	call	_cpct_waitVSYNC
   0401 18 CC         [12]  834 	jr	00104$
                            835 	.area _CODE
                            836 	.area _INITIALIZER
                            837 	.area _CABS (ABS)
